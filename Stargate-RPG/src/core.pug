//- variables & mixin
- var url = "https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Stargate-RPG/images/";
- var urldev = "https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Stargate-RPG/images/";
- var pages = ["character", "background", "npc", "settings"];
//- var attr-abr = []; //- kye-value instead?
//- var attr-name = [];
//- var skill-at = [];
//- var skill-name = [];
- var dice = ["d4", "d6", "d8", "d10", "d12"];
- var attack = ["attack1", "attack2", "attack3", "attack4", "attack5"];
- var ammo = ["1", "2", "3", "4"];
//- sheet start
.tab-buttons.middle.center
  input.npctoggle(type="hidden" name="attr_npc" value="0")
  button.pc(type="action" name="act_character") Character
  button.pc(type="action" name="act_background") Background
  button.npc(type="action" name="act_npc") NPC
  button(type="action" name="act_settings") Settings
  span.version.bold
    | Sheet Version: 
    span(name="attr_version")
input.tabstoggle(type="hidden" name="attr_sheetTab" value="character")
//- ---------------------------------------------------------------------------------
//- --------------------------- CHARACTER  ------------------------------------------
//- ---------------------------------------------------------------------------------
main.character
  //- NAME SECTION
  section.name.columnflex.nowrap
    .rowflex.nowrap.spaced
      .columnflex.nowrap
        label(style="width:100px;") Character name
        input(name="attr_character_name" type="text")
      .columnflex.nowrap
        label(style="width:80px;") Player name
        input(name="attr_player_name" type="text")
      .columnflex.nowrap
        label Campaign
        input(name="attr_campaign" type="text")
    .rowflex.nowrap.spaced
      .columnflex.nowrap
        label Race
        input(name="attr_race" list="race" placeholder="race" type="text")
      .columnflex.nowrap
        label Origin
        input(name="attr_origin" list="origin" placeholder="origin" type="text")
      .columnflex.nowrap
        label Class
        input(name="attr_class" list="rpgclass" placeholder="class" type="text")
      .columnflex.nowrap
        label.w40(title="@{rank}") Level
        input.w40(name="attr_rank" title="@{rank}" type="number" placeholder="1")
      .columnflex.nowrap
        label.w40(title="Hit Dice") HD
        input.w40(name="attr_hd" type="text" placeholder="d8" title="Hit Dice: @{hd}")
      .columnflex.nowrap
        label.w30 MP
        input.w40(name="attr_mp" type="number" placeholder="" title="Mission Points")
      .columnflex.nowrap
        label.w70(title="@{td}") Tension Die
        select(name="attr_td")
          option(value="d4") d4
          option(value="d6" selected="") d6
          option(value="d8") d8
          option(value="d10") d10
          option(value="d12") d12
  //- ATTRIBUTES SECTION
  .attr.columnflex.nowrap.spaced.center
    .stat.columnflex.nowrap.center.middle
      button.txt-btn.large(name="roll_str" title="%{str}" type="roll" value="@{whisper}&{template:stargate} {{title=Strength Check}} @{show_name} {{[[d20+(@{str_mod})]]=[[d20+(@{str_mod})]]}}") STR
      input(name="attr_str" type="number" value="10")
      span.mod(name="attr_str_mod" title="@{str_mod}")
    .stat.columnflex.nowrap.center.middle
      button.txt-btn.large(name="roll_dex" type="roll" title="%{dex}" value="@{whisper}&{template:stargate} {{title=Dexterity Check}} @{show_name} {{[[d20+(@{dex_mod})]]=[[d20+(@{dex_mod})]]}}") DEX
      input(name="attr_dex" type="number" value="10")
      span.mod(name="attr_dex_mod" title="@{dex_mod}")
    .stat.columnflex.nowrap.center.middle
      button.txt-btn.large(name="roll_con" type="roll" title="%{con}" value="@{whisper}&{template:stargate} {{title=Constitution Check}} @{show_name} {{[[d20+(@{con_mod})]]=[[d20+(@{con_mod})]]}}") CON
      input(name="attr_con" type="number" value="10")
      span.mod(name="attr_con_mod" title="@{con_mod}")
    .stat.columnflex.nowrap.center.middle
      button.txt-btn.large(name="roll_int" type="roll" title="%{int}" value="@{whisper}&{template:stargate} {{title=Intelligence Check}} @{show_name} {{[[d20+(@{int_mod})]]=[[d20+(@{int_mod})]]}}") INT
      input(name="attr_int" type="number" value="10")
      span.mod(name="attr_int_mod" title="@{int_mod}")
    .stat.columnflex.nowrap.center.middle
      button.txt-btn.large(name="roll_wis" type="roll" title="%{wis}" value="@{whisper}&{template:stargate} {{title=Wisdom Check}} @{show_name} {{[[d20+(@{wis_mod})]]=[[d20+(@{wis_mod})]]}}") WIS
      input(name="attr_wis" type="number" value="10")
      span.mod(name="attr_wis_mod" title="@{wis_mod}")
    .stat.columnflex.nowrap.center.middle
      button.txt-btn.large(name="roll_cha" type="roll" title="%{cha}" value="@{whisper}&{template:stargate} {{title=Charisma Check}} @{show_name} {{[[d20+(@{cha_mod})]]=[[d20+(@{cha_mod})]]}}") CHA
      input(name="attr_cha" type="number" value="10")
      span.mod(name="attr_cha_mod" title="@{cha_mod}")
  //- Skills (20)
  section.skills.columnflex.nowrap.spaced
    h3 Skills
    .rowflex.nowrap
      input(name="attr_acrobatics_c" type="checkbox" value="1")
      input.w30(name="attr_acrobatics" type="number" title="@{acrobatics}" value="0")
      button.txt-btn(name="roll_acrobatics" type="roll" value="@{whisper}&{template:stargate} {{title=Acrobatics Check}} @{show_name} {{[[d20+(@{acrobatics})]]=[[d20+(@{acrobatics})]]}}") Acrobatics
      span (dex)
    .rowflex.nowrap
      input(name="attr_animalhandling_c" type="checkbox" value="1")
      input.w30(name="attr_animalhandling" type="number" title="@{animalhandling}" value="0")
      button.txt-btn(name="roll_animalhandling" type="roll" value="@{whisper}&{template:stargate} {{title=Animal Handling Check}} @{show_name} {{[[d20+(@{animalhandling})]]=[[d20+(@{animalhandling})]]}}") Animal Handling
      span (wis)
    .rowflex.nowrap
      input(name="attr_athletics_c" type="checkbox" value="1")
      input.w30(name="attr_athletics" type="number" title="@{athletics}" value="0")
      button.txt-btn(name="roll_athletics" type="roll" value="@{whisper}&{template:stargate} {{title=Athletics Check}} @{show_name} {{[[d20+(@{athletics})]]=[[d20+(@{athletics})]]}}") Athletics
      span (str)
    .rowflex.nowrap
      input(name="attr_culture_c" type="checkbox" value="1")
      input.w30(name="attr_culture" type="number" title="@{culture}" value="0")
      button.txt-btn(name="roll_culture" type="roll" value="@{whisper}&{template:stargate} {{title=Culture Check}} @{show_name} {{[[d20+(@{culture})]]=[[d20+(@{culture})]]}}") Culture
      span (wis)
    .rowflex.nowrap
      input(name="attr_deception_c" type="checkbox" value="1")
      input.w30(name="attr_deception" type="number" title="@{deception}" value="0")
      button.txt-btn(name="roll_deception" type="roll" value="@{whisper}&{template:stargate} {{title=Deception Check}} @{show_name} {{[[d20+(@{deception})]]=[[d20+(@{deception})]]}}") Deception
      span (cha)
    .rowflex.nowrap
      input(name="attr_engineering_c" type="checkbox" value="1")
      input.w30(name="attr_engineering" type="number" title="@{engineering}" value="0")
      button.txt-btn(name="roll_engineering" type="roll" value="@{whisper}&{template:stargate} {{title=Engineering Check}} @{show_name} {{[[d20+(@{engineering})]]=[[d20+(@{engineering})]]}}") engineering
      span (int)
    .rowflex.nowrap
      input(name="attr_history_c" type="checkbox" value="1")
      input.w30(name="attr_history" type="number" title="@{history}" value="0")
      button.txt-btn(name="roll_history" type="roll" value="@{whisper}&{template:stargate} {{title=History Check}} @{show_name} {{[[d20+(@{history})]]=[[d20+(@{history})]]}}") history
      span (int)
    .rowflex.nowrap
      input(name="attr_insight_c" type="checkbox" value="1")
      input.w30(name="attr_insight" type="number" title="@{insight}" value="0")
      button.txt-btn(name="roll_insight" type="roll" value="@{whisper}&{template:stargate} {{title=Insight Check}} @{show_name} {{[[d20+(@{insight})]]=[[d20+(@{insight})]]}}") insight
      span (wis)
    .rowflex.nowrap
      input(name="attr_intimidation_c" type="checkbox" value="1")
      input.w30(name="attr_intimidation" type="number" title="@{intimidation}" value="0")
      button.txt-btn(name="roll_intimidation" type="roll" value="@{whisper}&{template:stargate} {{title=Intimidation Check}} @{show_name} {{[[d20+(@{intimidation})]]=[[d20+(@{intimidation})]]}}") intimidation
      span (cha)
    .rowflex.nowrap
      input(name="attr_investigation_c" type="checkbox" value="1")
      input.w30(name="attr_investigation" type="number" title="@{investigation}" value="0")
      button.txt-btn(name="roll_investigation" type="roll" value="@{whisper}&{template:stargate} {{title=Investigation Check}} @{show_name} {{[[d20+(@{investigation})]]=[[d20+(@{investigation})]]}}") investigation
      span (int)
    .rowflex.nowrap
      input(name="attr_medicine_c" type="checkbox" value="1")
      input.w30(name="attr_medicine" type="number" title="@{medicine}" value="0")
      button.txt-btn(name="roll_medicine" type="roll" value="@{whisper}&{template:stargate} {{title=medicine Check}} @{show_name} {{[[d20+(@{medicine})]]=[[d20+(@{medicine})]]}}") medicine
      span (wis)
    .rowflex.nowrap
      input(name="attr_nature_c" type="checkbox" value="1")
      input.w30(name="attr_nature" type="number" title="@{nature}" value="0")
      button.txt-btn(name="roll_nature" type="roll" value="@{whisper}&{template:stargate} {{title=nature Check}} @{show_name} {{[[d20+(@{nature})]]=[[d20+(@{nature})]]}}") nature
      span (int)
    .rowflex.nowrap
      input(name="attr_perception_c" type="checkbox" value="1")
      input.w30(name="attr_perception" type="number" title="@{perception}" value="0")
      button.txt-btn(name="roll_perception" type="roll" value="@{whisper}&{template:stargate} {{title=perception Check}} @{show_name} {{[[d20+(@{perception})]]=[[d20+(@{perception})]]}}") perception
      span (wis)
    .rowflex.nowrap
      input(name="attr_performance_c" type="checkbox" value="1")
      input.w30(name="attr_performance" type="number" title="@{performance}" value="0")
      button.txt-btn(name="roll_performance" type="roll" value="@{whisper}&{template:stargate} {{title=performance Check}} @{show_name} {{[[d20+(@{performance})]]=[[d20+(@{performance})]]}}") performance
      span (cha)
    .rowflex.nowrap
      input(name="attr_persuasion_c" type="checkbox" value="1")
      input.w30(name="attr_persuasion" type="number" title="@{persuasion}" value="0")
      button.txt-btn(name="roll_persuasion" type="roll" value="@{whisper}&{template:stargate} {{title=Persuasion Check}} @{show_name} {{[[d20+(@{persuasion})]]=[[d20+(@{persuasion})]]}}") persuasion
      span (cha)
    .rowflex.nowrap
      input(name="attr_pilot_c" type="checkbox" value="1")
      input.w30(name="attr_pilot" type="number" title="@{}" value="0")
      button.txt-btn(name="roll_pilot" type="roll" value="@{whisper}&{template:stargate} {{title=pilot Check}} @{show_name} {{[[d20+(@{pilot})]]=[[d20+(@{pilot})]]}}") pilot
      span (dex)
    .rowflex.nowrap
      input(name="attr_science_c" type="checkbox" value="1")
      input.w30(name="attr_science" type="number" title="@{science}" value="0")
      button.txt-btn(name="roll_science" type="roll" value="@{whisper}&{template:stargate} {{title=science Check}} @{show_name} {{[[d20+(@{science})]]=[[d20+(@{science})]]}}") science
      span (int)
    .rowflex.nowrap
      input(name="attr_sleight_c" type="checkbox" value="1")
      input.w30(name="attr_sleight" type="number" title="@{sleight}" value="0")
      button.txt-btn(name="roll_sleight" type="roll" value="@{whisper}&{template:stargate} {{title=Sleight of Hand Check}} @{show_name} {{[[d20+(@{sleight})]]=[[d20+(@{sleight})]]}}") Sleight of Hand
      span (dex)
    .rowflex.nowrap
      input(name="attr_stealth_c" type="checkbox" value="1")
      input.w30(name="attr_stealth" type="number" title="@{stealth}" value="0")
      button.txt-btn(name="roll_stealth" type="roll" value="@{whisper}&{template:stargate} {{title=stealth Check}} @{show_name} {{[[d20+(@{stealth})]]=[[d20+(@{stealth})]]}}") stealth
      span (dex)
    .rowflex.nowrap
      input(name="attr_survival_c" type="checkbox" value="1")
      input.w30(name="attr_survival" type="number" title="@{survival}" value="0")
      button.txt-btn(name="roll_survival" type="roll" value="@{whisper}&{template:stargate} {{title=survival Check}} @{show_name} {{[[d20+(@{survival})]]=[[d20+(@{survival})]]}}") survival
      span (wis)
  //- hp
  section.hp.rowflex.nowrap
    .section.columnflex.nowrap.middle.center
      label.txtcenter(title="Hit Points") HP
      .rowflex.nowrap
        input.stat.w40(name="attr_hp" type="number" value="" placeholder="20" title="@{hp}")
        span.slash /
        input.stat.w40(name="attr_hp_max" type="number" value="" placeholder="20" title="@{hp|max}")
    .section.columnflex.nowrap.middle.center.determ
      label.txtcenter(title="Temporary Hit Points") Temp HP
      .rowflex.nowrap
        input.stat.w40(name="attr_hp_temp" type="number" value="" title="@{hp_temp}")
        span.slash /
        input.stat.w40(name="attr_hp_temp_max" type="number" value="" title="@{hp_temp|max}")
  //- condition
  section.condition.columnflex.nowrap.spaced
    h3.txtcenter(title="@{condition}") CONDITION
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="0" checked="true")
      span Normal
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="1")
      span Disadv ability checks
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="2")
      span speed halved
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="3")
      span disadv attacks, saves
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="4")
      span HP max halved
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="5")
      span speed zero
    .rowflex.nowrap
      input(name="attr_condition" type="radio" value="6")
      span death
  //- prof
  .prof.rowflex.nowrap
    .section.columnflex.nowrap.middle.center
      label.wide(title="Proficiency Bonus") Prof Bonus
      input.stat.w40(name="attr_prof" type="number" value="2" title="Proficiency Bonus: @{prof}")
    .section.columnflex.nowrap.middle.center.init
      button.txt-btn(name="roll_init" type="roll" value="@{whisper}&{template:stargate} {{title=Initiative}} @{show_name} {{ Roll =[[d20+(@{init}) &{tracker}]]}}" title="%{init}") Initiative
      input.stat.w40(name="attr_init" type="number" value="0" title="@{init}")
    .section.columnflex.nowrap.middle.center.moxie
      button.txt-btn(name="roll_moxie" type="roll" value="@{whisper}&{template:stargate} {{title=Moxie}} @{show_name} {{ Roll =[[d20+(@{moxie}) &{tracker}]]}}" title="Social Initiative: %{moxie}") Moxie
      input.stat.w40(name="attr_moxie" type="number" value="0" title="Social Initiative: @{moxie}")
  //- ac
  .ac.rowflex.nowrap
    .section.columnflex.nowrap.middle.center
      label.wide Armor Class
      input.stat.w70(name="attr_ac" type="number" value="10" title="@{ac}")
    .section.columnflex.nowrap.middle.center
      label.wide determination
      .rowflex.nowrap
        input.stat.w40(name="attr_determination" type="number" value="2" title="@{determination}")
        span.slash /
        input.stat.w40(name="attr_determination_max" type="number" value="2" title="@{determination|max}")
  //- speed
  .speed.rowflex.nowrap
    .section.columnflex.nowrap.middle.center
      label.bold.txtcenter Speed
      input.w70.stat(name="attr_speed" type="text" value="6m")
    .section.death.columnflex.nowrap.middle.center
      button.txt-btn.large(name="roll_deathsave" type="roll" value="@{whisper}&{template:stargate} {{color=black}} {{title=Death Save}} @{show_name} {{Result=[[d20]]}}" title="%{deathsave}") Death Save
      .rowflex.nowrap
        input(name="attr_death_success1" type="checkbox" value="1")
        input(name="attr_death_success2" type="checkbox" value="1")
        input(name="attr_death_success3" type="checkbox" value="1")
        span Sucesses
      .rowflex.nowrap
        input(name="attr_death_failure1" type="checkbox" value="1")
        input(name="attr_death_failure2" type="checkbox" value="1")
        input(name="attr_death_failure3" type="checkbox" value="1")
        span Failures
  //- saves
  section.saves.columnflex.nowrap
    h3 Saves
    .rowflex.nowrap
      input(name="attr_str_save_c" type="checkbox" value="1")
      input.w30(name="attr_str_save" title="@{str_save}" type="number" value="0")
      button.txt-btn(name="roll_str_save" title="%{str_save}" type="roll" value="@{whisper}&{template:stargate} {{title=Strength Save}} @{show_name} {{[[d20+(@{str_save})]]=[[d20+(@{str_save})]]}}") Strength
    .rowflex.nowrap
      input(name="attr_dex_save_c" type="checkbox" value="1")
      input.w30(name="attr_dex_save" type="number" value="0" title="@{dex_save}")
      button.txt-btn(name="roll_dex_save" type="roll" value="@{whisper}&{template:stargate} {{title=Dexterity Save}} @{show_name} {{[[d20+(@{dex_save})]]=[[d20+(@{dex_save})]]}}" title="%{dex_save}") Dexterity
    .rowflex.nowrap
      input(name="attr_con_save_c" type="checkbox" value="1")
      input.w30(name="attr_con_save" type="number" value="0")
      button.txt-btn(name="roll_con_save" type="roll" value="@{whisper}&{template:stargate} {{title=Constitution Save}} @{show_name} {{[[d20+(@{con_save})]]=[[d20+(@{con_save})]]}}") Constitution
    .rowflex.nowrap
      input(name="attr_int_save_c" type="checkbox" value="1")
      input.w30(name="attr_int_save" type="number" value="0")
      button.txt-btn(name="roll_int_save" type="roll" value="@{whisper}&{template:stargate} {{title=Intelligence Save}} @{show_name} {{[[d20+(@{int_save})]]=[[d20+(@{int_save})]]}}") Intelligence
    .rowflex.nowrap
      input(name="attr_wis_save_c" type="checkbox" value="1")
      input.w30(name="attr_wis_save" type="number" value="0")
      button.txt-btn(name="roll_wis_save" type="roll" value="@{whisper}&{template:stargate} {{title=Wisdom Save}} @{show_name} {{[[d20+(@{wis_save})]]=[[d20+(@{wis_save})]]}}") Wisdom
    .rowflex.nowrap.mb20
      input(name="attr_cha_save_c" type="checkbox" value="1")
      input.w30(name="attr_cha_save" type="number" value="0")
      button.txt-btn(name="roll_cha_save" type="roll" value="@{whisper}&{template:stargate} {{title=Charisma Save}} @{show_name} {{[[d20+(@{cha_save})]]=[[d20+(@{cha_save})]]}}") Charisma
  //- bulk
  section.bulk.columnflex.nowrap.middle.center
    h3 Tactical Vest Bulk
    input.stat.w40(name="attr_bulk" type="number" value="8")
  //- ammo
  //- inventory mini
  section.inventory.columnflex.nowrap.center
    h4 Inventory
    textarea(name="attr_inventory" title="@{inventory}")
  //- attacks
  section.attacks
    span.name.bold Attack/Action Name
    span.bold to hit
    span.bold.pl20 dmg
    span.bold.dmg-type type
    span.bold range
    span.bold Cap/Reload
    span.bold.pl20 special
    //- attack1
    .rowflex.nowrap
      button(name="roll_attack1" type="roll" title="%{attack1}" value="@{whisper}&{template:stargate} {{title=@{attack1}}} @{show_name} {{[[d20+(@{attack1_to_hit})]]=[[d20+(@{attack1_to_hit})]]}} {{Damage=[[@{attack1_dmg}+0]] @{attack1_dmgtype} }} {{desc=@{attack1_special} }}")
      input.ml15(name="attr_attack1" type="text" placeholder="Sidearm(Beretta M9)")
    div
      input.w40(name="attr_attack1_to_hit" type="text" placeholder="4")
    div
      input.w70.mr15(name="attr_attack1_dmg" type="text" placeholder="1d6")
    div
      input.w50(name="attr_attack1_dmgtype" type="text" placeholder="piercing")
    div
      input.w50(name="attr_attack1_range" type="text" placeholder="50/100")
    div
      input.w50(name="attr_attack1_reload" type="text" placeholder="15/1")
    div
      input.w110.mr15(name="attr_attack1_special" type="text")
    //- attack2
    .rowflex.nowrap
      button(name="roll_attack2" type="roll" title="%{attack2}" value="@{whisper}&{template:stargate} {{title=@{attack2}}} @{show_name} {{[[d20+(@{attack2_to_hit})]]=[[d20+(@{attack2_to_hit})]]}} {{Damage=[[@{attack2_dmg}+0]] @{attack2_dmgtype} }} {{desc=@{attack2_special} }}")
      input.ml15(name="attr_attack2" type="text" placeholder="attack/action name")
    div
      input.w40(name="attr_attack2_to_hit" type="text" placeholder="4")
    div
      input.w70.mr15(name="attr_attack2_dmg" type="text" placeholder="1d6")
    div
      input.w50(name="attr_attack2_dmgtype" type="text")
    div
      input.w50(name="attr_attack2_range" type="text")
    div
      input.w50(name="attr_attack2_reload" type="text")
    div
      input.w110.mr15(name="attr_attack2_special" type="text")
    //- attack3
    .rowflex.nowrap
      button(name="roll_attack3" type="roll" title="%{attack3}" value="@{whisper}&{template:stargate} {{title=@{attack3}}} @{show_name} {{[[d20+(@{attack3_to_hit})]]=[[d20+(@{attack3_to_hit})]]}} {{Damage=[[@{attack3_dmg}+0]] @{attack3_dmgtype} }} {{desc=@{attack3_special} }}")
      input.ml15(name="attr_attack3" type="text" placeholder="attack/action name")
    div
      input.w40(name="attr_attack3_to_hit" type="text" placeholder="4")
    div
      input.w70.mr15(name="attr_attack3_dmg" type="text" placeholder="1d6")
    div
      input.w50(name="attr_attack3_dmgtype" type="text")
    div
      input.w50(name="attr_attack3_range" type="text")
    div
      input.w50(name="attr_attack3_reload" type="text")
    div
      input.w110.mr15(name="attr_attack3_special" type="text")
    //- attack4
    .rowflex.nowrap
      button(name="roll_attack4" type="roll" title="%{attack4}" value="@{whisper}&{template:stargate} {{title=@{attack4}}} @{show_name} {{[[d20+(@{attack4_to_hit})]]=[[d20+(@{attack4_to_hit})]]}} {{Damage=[[@{attack4_dmg}+0]] @{attack4_dmgtype} }} {{desc=@{attack4_special} }}")
      input.ml15(name="attr_attack4" type="text" placeholder="attack/action name")
    div
      input.w40(name="attr_attack4_to_hit" type="text" placeholder="4")
    div
      input.w70.mr15(name="attr_attack4_dmg" type="text" placeholder="1d6")
    div
      input.w50(name="attr_attack4_dmgtype" type="text")
    div
      input.w50(name="attr_attack4_range" type="text")
    div
      input.w50(name="attr_attack4_reload" type="text")
    div
      input.w110.mr15(name="attr_attack4_special" type="text")
    //- attack5
    .rowflex.nowrap
      button(name="roll_attack5" type="roll" title="%{attack5}" value="@{whisper}&{template:stargate} {{title=@{attack5}}} @{show_name} {{[[d20+(@{attack5_to_hit})]]=[[d20+(@{attack5_to_hit})]]}} {{Damage=[[@{attack5_dmg}+0]] @{attack5_dmgtype} }} {{desc=@{attack5_special} }}")
      input.ml15(name="attr_attack5" type="text" placeholder="attack/action name")
    div
      input.w40(name="attr_attack5_to_hit" type="text" placeholder="4")
    div
      input.w70.mr15(name="attr_attack5_dmg" type="text" placeholder="1d6+@{td}")
    div
      input.w50(name="attr_attack5_dmgtype" type="text")
    div
      input.w50(name="attr_attack5_range" type="text")
    div
      input.w50(name="attr_attack5_reload" type="text")
    div
      input.w110.mr15(name="attr_attack5_special" type="text")
//- ---------------------------------------------------------------------------------
//- --------------------------- BACKGORUND ----------------------------------------------
//- ---------------------------------------------------------------------------------
main.background
  section.racial_abilities.columnflex.nowrap.center
    label Racial Abilities
    textarea(name="attr_racial")
  section.feats.columnflex.nowrap.center
    label Feats
    textarea(name="attr_feats")
  section.class.columnflex.nowrap.center
    label Class Abilities
    textarea(name="attr_class_abilities")
  section.equipment.columnflex.nowrap.center
    label Equipment
    textarea(name="attr_equipment")
  section.prof.columnflex.nowrap.center
    label Proficiencies
    textarea(name="attr_proficiencies")
  section.notes.columnflex.nowrap.center
    label Notes
    textarea(name="attr_notes")
//- ---------------------------------------------------------------------------------
//- ------------------------------ NPC ----------------------------------------------
//- ---------------------------------------------------------------------------------
main.npc.gap
  h1 NPC
  .section.columnflex.nowrap
    label.other NPC stuff
    .rowflex.nowrap
      span CR:
      input.w40(name="attr_cr" type="number" placeholder="" title="Challenge Rating: @{cr}" value="")
      span Speed
      input.w40(name="attr_speed_npc" type="text" style="width:200px" placeholder="1m Fly(6m)" title="@{speed_npc}" value="")
    .rowflex.nowrap
      span Type:
      input.w40(name="attr_type" type="text" style="width:350px" placeholder="Medium Humanoid(Scout 2)" title="Challenge Rating: @{type}" value="")
//- ---------------------------------------------------------------------------------
//- --------------------------- SETTINGS --------------------------------------------
//- ---------------------------------------------------------------------------------
main.settings
  section.settings.columnflex.nowrap.center
    label Settings
    .rowflex.nowrap
      span(title="@{whisper}") Whisper rolls?
      input(name="attr_whisper" title="@{whisper}" type="checkbox" value="/w gm")
    .rowflex.nowrap
      span(title="@{show_name}") Show name in rolls?
      select(name="attr_show_name" title="@{show_name}")
        option(value="{{subtitle=@{character_name} }}") Yes
        option(value=" ") No
    .rowflex.nowrap
      span(title="@{npc}") NPC sheet?
      input(name="attr_npc" title="@{npc}" type="checkbox" value="1")
    .rowflex.nowrap
      button(name="roll_hd" type="roll" title="%{hd}" value="@{whisper}&{template:stargate} {{color=green}} {{title=Short Rest}} @{show_name} !modbattr --silent --name @{character_name} --hp|{{Healing=[[@{hd}]]}}!!! {{desc=One roll of the Hit Dice.}}") Short Rest
      button(name="roll_longrest" type="roll" title="%{longrest}" value="@{whisper}&{template:stargate} {{color=green}} {{title=Long Rest}} @{show_name}  !modbattr --silent --name @{character_name} --hp|{{Healing=[[@{rank}@{hd}]]}}!!! {{desc=Rolls a number of Hit Dice equal to the characters level, and recovers that amount of health. }}") Long Rest
      button(name="roll_td" type="roll" title="%{td}" value="@{whisper}&{template:stargate} {{title=Tension Die (@{td})}} @{show_name}  {{Roll=[[@{td}]]}} {{desc=Rolls the current tension die for the episode. }}") Tension Dice
    .rowflex.nowrap
      label Custom roll
    .rowflex.nowrap
      button(name="roll_custom1" type="roll" value="@{whisper}@{custom1}")
      input(type="text" name="attr_custom1" value="&{template:stargate} {{color=green}} {{title=Med Kit}} @{show_name}  {{Healing=[[1d4]]}} {{desc=Heals someone with a medic kit. }}")
    .rowflex.nowrap
      button(name="roll_custom2" type="roll" value="@{whisper}@{custom2}")
      input(type="text" name="attr_custom2" value="&{template:stargate} {{color=white}} {{title=Scientific Discovery}} @{show_name}  {{DC=[[8+(@{wis_mod}[wisdom modifier])+(@{prof}[proficiency])]] Wisdom or Intelligence Save}} {{desc=Archeologist: As an action you can cause a target emotional and mental distress by using cultural taboos against them. If the target fails a Wisdom save (DC 8+ Intelligence modifier + Proficiency Bonus) you may spend a number of Eureka points. The target is stunned for a number of rounds equal to the Eureka points spent. A target that passes its save is immune to this ability for 24 hours (and possibly very upset). }}")
    .rowflex.nowrap
      button(name="roll_custom3" type="roll" value="@{whisper}@{custom3}")
      input(type="text" name="attr_custom3" value="&{template:stargate} {{color=white}} {{title=Tension Die (@{td})}} @{show_name}  {{Roll=[[@{td}]]}} {{desc=Rolls the current tension die for the episode. }}")
    .rowflex.nowrap
      button(name="roll_custom4" type="roll" value="@{whisper}@{custom4}")
      input(type="text" name="attr_custom4" value="&{template:stargate} {{title=Tension Die (@{td})}} @{show_name}  {{Roll=[[@{td}]]}} {{desc=Rolls the current tension die for the episode. }}")
  section.other.columnflex.nowrap.center
    label Other stats
    .rowflex.nowrap
      span Mission Points(MP):
      input.w40(name="attr_mp" type="number" placeholder="" title="Mission Points @{mp}")
      |       /
      input.w40(name="attr_mp_max" type="number" placeholder="" title="Total Mission Points @{mp|max}")
    .rowflex.nowrap
      span Eureka Points:
      input.w40(name="attr_eureka" type="number" placeholder="" title="Eureka Points: @{eureka}" value="0")
      |       /
      input.w40(name="attr_eureka_max" type="number" placeholder="" title="Max Eureka Points: @{eureka|max}")
    .columnflex.nowrap
      span Wounds/Ability Damage
      textarea.dmg(name="attr_ability_damage")
  section.changelog.columnflex.nowrap.center
    button.txt-btn(name="roll_help" type="roll" value="@{whisper}&{template:stargate} {{title=[(Link)Sheet Userguide](https://wiki.roll20.net/Stargate) }} {{subtitle=Roll20 Wiki}} {{desc=  (Right-click to open in a new tab)\n**Official Stargate RPG**\n**Roll20 Character Sheet**\n created by **Andreas J.**([@anduh_](https://twitter.com/anduh_)) }}") Sheet Documentation
    br
    h1 Changelog
    label v.1.80 (June)
    span * Simple NPC page
    label v.1.70 (May)
    span
      | * replace page buttons
      br
      |       * add datalists for race, origin, class
      br
      |       * refactor sheet in PUG &amp; SCSS
      br
      |       * update the sheet to work with CSE
    label v.1.55(Nov. 3rd)
    span
      | * more stats to track on Settings page
    label v.1.50(Oct. 20th)
    span
      | * add Stargate Phoenix image to roll template
      br
      |       * integrate ChatSetAttr commands to Short/Long Rest buttons
      br
      |       * added whisper toggle to Saves
      br
      |       * Link to sheet wiki page (button on settings page)
  .ammo
    .section.columnflex.nowrap
      label.other Living Series
      .rowflex.nowrap
        span Stargaterpg.com username
        input.w40(name="attr_living_series_user" type="text" placeholder="" value="" style="width:100px")
        span(title="You can see your Roll20 id by going to your Roll20 profile page, and copying the numbers in the URL") Roll20 ID
        input.w40(name="attr_roll20id" type="text" style="width:100px" title="You can see your Roll20 id by going to your Roll20 profile page, and copying the numbers in the URL" value="")
      .rowflex.nowrap
        span Stargaterpg.com character link
        input.w40(name="attr_cahracter_link" type="text" style="width:350px" placeholder="The url to your character sheet" value="")
    .ammo.grid
      .section.columnflex.nowrap.middle.center
        label Ammo Weapon 1
        input(name="attr_ammo1" type="number" value="0")
      .section.columnflex.nowrap.middle.center
        label Ammo Weapon 2
        input(name="attr_ammo2" type="number" value="0")
      .section.columnflex.nowrap.middle.center
        label Ammo Weapon 3
        input(name="attr_ammo3" type="number" value="0")
      .section.columnflex.nowrap.middle.center
        label Ammo Weapon 4
        input(name="attr_ammo4" type="number" value="0")
