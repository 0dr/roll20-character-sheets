<div class="flex-row npc-core">
    <div class="flex-column w-6">
        <div class="flex-column frame-c npc-colu">
            <h4 class="h4">Caractéristiques</h4>
            <div class="flex-row justify-center">
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=Test de Force}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{for_mod}]]}}"
                            class="button-label text-center">FOR
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_for_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=Test de Dextérité}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}]]}}"
                            class="button-label text-center">DEX
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_dex_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=Test de Constitution}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}]]}}"
                            class="button-label text-center">CON
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_con_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=Test d'Intelligence}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{int_mod}]]}}"
                            class="button-label text-center">INT
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_int_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=Test de Sagesse}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}]]}}"
                            class="button-label text-center">SAG
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_sag_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=Test de Charisme}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{cha_mod}]]}}"
                            class="button-label text-center">CHA
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_cha_base">
                </div>
            </div>
            <br>
            <h4 class="h4">Points de vie</h4>
            <div class="flex-row justify-center align-center">

                <input type="number" class="visible-input w-2" name="attr_pv" placeholder="actuel">
                /
                <input type="number" class="visible-input w-2" name="attr_pv_max" placeholder="max.">
                (
                <input type="number" class="visible-input w-2" name="attr_pv_temp" placeholder="temp.">
                )
                <input type="text" class="visible-input w-6" name="attr_pv_desc" placeholder="12d8+42">
            </div>
            <br/>
            <h4 class="h4">Classe d'armure</h4>
            <div class="flex-row align-center">
                <button type="roll"
                        value="&{template:main} {{titre=Classe d'armure}} {{subtitle=@{character_name} }} {{CA=@{npc_ca} }}{{description=@{npc_ca_text} }}"
                        class="button-label w-3 text-right">Normal :
                </button>
                <input type="number" class="w-2 visible-input" name="attr_npc_ca">
                <input type="text" class="w-7 visible-input" name="attr_npc_ca_text">
            </div>
            <div class="flex-row align-center">
                <button type="roll"
                        value="&{template:main} {{titre=Classe d'armure pris au dépourvu}} {{subtitle=@{character_name} }} {{CA=@{npc_caff} }}{{description=@{npc_caff_text} }}"
                        class="button-label w-3 text-right">Au dépourvu :
                </button>
                <input type="number" class="w-2 visible-input" name="attr_npc_caff">
                <input type="text" class="w-7 visible-input" name="attr_npc_caff_text">
            </div>
            <div class="flex-row align-center">
                <button type="roll"
                        value="&{template:main} {{titre=Classe d'armure de contact}} {{subtitle=@{character_name} }} {{CA=@{npc_cat} }}{{description=@{npc_cat_text} }}"
                        class="button-label w-3 text-right">De contact :
                </button>
                <input type="number" class="w-2 visible-input" name="attr_npc_cat">
                <input type="text" class="w-7 visible-input" name="attr_npc_cat_text">
            </div>
            <br>
            <h4 class="h4">Jets de sauvegarde</h4>
            <div class="flex-row save">
                <label class="label w-3">Base</label>
                <label class="label w-3">Mod.</label>
                <label class="label w-6"></label>
            </div>
            <div class="flex-row save">
                <input type="number" class="input w-3" name="attr_ref_base">
                <input type="number" class="input w-3" name="attr_ref_mod">
                <input type="hidden" name="attr_ref_roll_value"
                       value="&{template:main} {{titre=Test de Réflexes}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}+@{ref_base}+@{ref_mod}]]}}">
                <button type="roll" name="attr_ref_roll" value="@{ref_roll_value}"
                        class="button-label bold w-6">Réflexes
                </button>
            </div>
            <div class="flex-row save">
                <input type="number" class="input w-3" name="attr_vig_base">
                <input type="number" class="input w-3" name="attr_vig_mod">
                <input type="hidden" name="attr_vig_roll_value"
                       value="&{template:main} {{titre=Test de Vigueur}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}+@{vig_base}+@{vig_mod}]]}}">
                <button type="roll" name="attr_vig_roll" value="@{vig_roll_value}"
                        class="button-label bold w-6">Vigueur
                </button>
            </div>
            <div class="flex-row save">
                <input type="number" class="input w-3" name="attr_vol_base">
                <input type="number" class="input w-3" name="attr_vol_mod">
                <input type="hidden" name="attr_vol_roll_value"
                       value="&{template:main} {{titre=Test de Volonté}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}+@{vol_base}+@{vol_mod}]]}}">
                <button type="roll" name="attr_vol_roll" value="@{vol_roll_value}"
                        class="button-label bold w-6">Volonté
                </button>
            </div>
        </div>
        <div class="flex-column frame-c npc-colu">
            <h4 class="h4">Capacités spécifiques</h4>
            <fieldset class="repeating_npc-capacite">
                <div class="trait">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"> Nom : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label">Description</label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <br>
            <h4 class="h4">Divers & Notes</h4>
            <div class="flex-row align-center justify-start">
                <label class="label text-right w-1">CR : </label>
                <div class="w-2">
                    <input type="text" class="visible-input text-left" name="attr_npc_cr">
                </div>
                <div>(</div>
                <div class="w-3">
                    <input type="text" class="visible-input text-left" name="attr_npc_xp">
                </div>
                <div>XP)</div>
            </div>
            <label class="label">Notes:</label>
            <textarea class="textarea" name="attr_npc_notes"></textarea>
        </div>
    </div>
    <div class="flex-column w-6">
        <div class="flex-column frame-c traits npc-colu">
            <h4 class="h4">Actions spécifiques</h4>
            <fieldset class="repeating_npc-actions">
                <div class="trait">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"> Nom : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label">Description</label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="h4">Attaques</h4>
            <div class="flex-row">
                <div class="flex-row w-8">
                    <label class="label-secondary w-7">Nom</label>
                    <label class="label-secondary w-5 text-center">Att</label>
                </div>
                <label class="label-secondary w-4 text-center">Dégats</label>
            </div>
            <fieldset class="repeating_attaques">
                <div class="attq">
                    <input class="options-flag" type="checkbox" name="attr_options-flag" checked><span>y</span>
                    <div class="flex-row align-center">
                        <input type="hidden" name="attr_atq-roll-val"
                               value="&{template:main} {{titre=Attaque avec @{name}}} {{subtitle=@{character_name}}} {{Attaque=[[1d20+@{bba}+@{atq-carac-val}+@{atq-bonus}+@{atq-bonus-2}]]}} {{Dégats=[[@{dgt-base}+@{dgt-carac-val}+@{dgt-bonus}]]}}">
                        <button type="roll" name="attr_atq-roll" value="@{atq-roll-val}"
                                class="gray-line flex-row bold w-8 button-label">
                            <span class="w-7" name="attr_name"></span>
                            <span class="w-5 text-center" name="attr_atq-total"></span>
                        </button>
                        <input type="hidden" name="attr_dgt-roll-val"
                               value="&{template:main} {{titre=Dégats de @{name}}} {{subtitle=@{character_name}}} {{Dégats=[[@{dgt-base}+@{dgt-carac-val}+@{dgt-bonus}]]}}">
                        <button type="roll" name="attr_attqdgtroll" value="@{dgt-roll-val}"
                                class="gray-line flex-row bold w-4 justify-center button-label">
                            <span name="attr_degats"></span>
                        </button>
                    </div>
                    <div class="flex-column options-options border-bottom align-center">
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Nom :</label>
                            <input type="text" class="visible-input text-left w-9" name="attr_name">
                        </div>
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Atq :</label>
                            <select class="w-3" name="attr_atq-carac">
                                <option value="-">-</option>
                                <option value="FOR">FOR</option>
                                <option value="DEX">DEX</option>
                            </select>
                            +
                            <input type="number" class="visible-input w-2" name="attr_atq-bonus">
                            +
                            <input type="number" class="visible-input w-2" name="attr_atq-bonus-2">
                            <input type="hidden" name="attr_atq-total">
                            <input type="hidden" name="attr_atq-carac-val">
                            <input type="hidden" name="attr_degats">
                            <input type="hidden" name="attr_dgt-carac-val">
                        </div>
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Dgt :</label>
                            <input type="text" class="visible-input w-3" name="attr_dgt-base"
                                   placeholder="1d4">
                            +
                            <select class="w-3" name="attr_dgt-carac">
                                <option value="-">-</option>
                                <option value="FOR">FOR</option>
                                <option value="DEX">DEX</option>
                                <option value="1,5FOR">1,5 x FOR</option>
                                <option value="1/2FOR">1/2 xFOR</option>
                            </select>
                            +
                            <input type="number" class="visible-input w-2" name="attr_dgt-bonus">
                        </div>
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Portée :</label>
                            <input type="text" class="visible-input text-left w-9" name="attr_range">
                        </div>
                        <div class="flex-column w-12">
                            <label class="skill-label w-3">Notes :</label>
                            <input type="text" class="visible-input" name="attr_notes">
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="flex-row">
                <label class="label-secondary w-3">BBA :</label>
                <input type="number" class="visible-input w-9 " name="attr_bba">
            </div>
        </div>
        <div class="flex-column frame-c npc-colu">
            <h4 class="h4">Compétences</h4>
            <div class="npc-skills">
                <fieldset class="repeating_skills">
                    <div class="skill">
                        <input class="options-flag" type="checkbox" name="attr_options-flag"
                               checked><span>y</span>
                        <div class="flex-row align-center">
                            <div class="w-12">
                                <input type="hidden" name="attr_skillrollvalue"
                                       value="&{template:main} {{titre=Test de '@{name}'}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{total}]]}}">
                                <button name="attr_skillroll" type="roll" value="@{skillrollvalue}"
                                        class="button-label text-left">
                                    <span name="attr_name"></span>&nbsp;<span name="attr_caracname"></span>,&nbsp;&nbsp;
                                </button>
                            </div>
                        </div>
                        <div class="flex-column options-options border-bottom">
                            <div class="flex-row align-center">
                                <label class="skill-label w-4">Nom :</label>
                                <input type="text" class="visible-input" name="attr_name">
                            </div>
                            <div class="flex-row align-center">
                                <label class="skill-label w-4">Rangs :</label>
                                <input type="number" class="visible-input w-8" name="attr_ranks">
                            </div>
                            <div class="flex-row align-center">
                                <label class="skill-label w-4">Carac :</label>
                                <select class="w8" name="attr_carac">
                                    <option value="@{for_mod}">Force</option>
                                    <option value="@{dex_mod}">Dextérité</option>
                                    <option value="@{con_mod}">Constitution</option>
                                    <option value="@{int_mod}">Intelligence</option>
                                    <option value="@{sag_mod}">Sagesse</option>
                                    <option value="@{cha_mod}">Charisme</option>
                                </select>
                                <input type="hidden" name="attr_caracname">
                            </div>
                            <div class="flex-row align-center">
                                <label class="skill-label w-4">Mod :</label>
                                <input type="number" class="visible-input w-8" name="attr_mod">
                            </div>
                            <div class="flex-row align-center">
                                <label class="skill-label w-8">Malus d'armure :</label>
                                <input type="checkbox" class="visible-input w-4"
                                       name="attr_has_armor_malus">
                            </div>
                            <div class="flex-column">
                                <label class="skill-label w-4">Notes :</label>
                                <input type="text" class="visible-input" name="attr_notes">
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>