<div class="flex-row pc-core">
    <div class="flex-column gap-4 w-4">
        <div class="flex-row gap-3 align-start">
            <!-- ATTRIBUTES !-->
            <div class="attributes w-3">
                <div class="attribute">
                    <button type="roll" value="&{template:main} {{titre=Test de Force}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{for_mod}]]}}"
                            class="button-label">FORCE
                    </button>
                    <input type="text" class="input" name="attr_for_mod" readonly>
                    <input type="number" class="input" name="attr_for_base">
                </div>
                <div class="attribute">
                    <button type="roll" value="&{template:main} {{titre=Test de Dextérité}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}]]}}"
                            class="button-label">DEXTÉRITE
                    </button>
                    <input type="text" class="input" name="attr_dex_mod" readonly>
                    <input type="number" class="input" name="attr_dex_base">
                </div>
                <div class="attribute">
                    <button type="roll" value="&{template:main} {{titre=Test de Constitution}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}]]}}"
                            class="button-label">CONSTIT
                    </button>
                    <input type="text" class="input" name="attr_con_mod" readonly>
                    <input type="number" class="input" name="attr_con_base">
                </div>
                <div class="attribute">
                    <button type="roll" value="&{template:main} {{titre=Test d'intelligence}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{int_mod}]]}}"
                            class="button-label">INTEL
                    </button>
                    <input type="text" class="input" name="attr_int_mod" readonly>
                    <input type="number" class="input" name="attr_int_base">
                </div>
                <div class="attribute">
                    <button type="roll" value="&{template:main} {{titre=Test de Sagesse}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}]]}}"
                            class="button-label">SAGESSE
                    </button>
                    <input type="text" class="input" name="attr_sag_mod" readonly>
                    <input type="number" class="input" name="attr_sag_base">
                </div>
                <div class="attribute">
                    <button type="roll" value="&{template:main} {{titre=Test de Charisme}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{cha_mod}]]}}"
                            class="button-label">CHARISME
                    </button>
                    <input type="text" class="input" name="attr_cha_mod" readonly>
                    <input type="number" class="input" name="attr_cha_base">
                </div>
            </div>
            <!-- JDS & Compétences !-->
            <div class="flex-column gap-2 w-9">
                <div class="saves frame">
                    <h4 class="h4">Jets de sauvegardes</h4>
                    <div class="flex-row save">
                        <label class="label w-3">Base</label>
                        <label class="label w-3">Mod.</label>
                        <label class="label w-6"></label>
                    </div>
                    <div class="flex-row save">
                        <input type="number" class="input w-3" name="attr_ref_base">
                        <input type="number" class="input w-3" name="attr_ref_mod">
                        <input type="hidden" name="attr_ref_roll_value"
                               value="&{template:main} {{titre=Test de Réflexes}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}+@{ref_base}+@{ref_mod}]]}}">
                        <button type="roll" name="attr_ref_roll" value="@{ref_roll_value}"
                                class="button-label bold w-6">Réflexes
                        </button>
                    </div>
                    <div class="flex-row save">
                        <input type="number" class="input w-3" name="attr_vig_base">
                        <input type="number" class="input w-3" name="attr_vig_mod">
                        <input type="hidden" name="attr_vig_roll_value"
                               value="&{template:main} {{titre=Test de Vigueur}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}+@{vig_base}+@{vig_mod}]]}}">
                        <button type="roll" name="attr_vig_roll" value="@{vig_roll_value}"
                                class="button-label bold w-6">Vigueur
                        </button>
                    </div>
                    <div class="flex-row save">
                        <input type="number" class="input w-3" name="attr_vol_base">
                        <input type="number" class="input w-3" name="attr_vol_mod">
                        <input type="hidden" name="attr_vol_roll_value"
                               value="&{template:main} {{titre=Test de Volonté}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}+@{vol_base}+@{vol_mod}]]}}">
                        <button type="roll" name="attr_vol_roll" value="@{vol_roll_value}"
                                class="button-label bold w-6">Volonté
                        </button>
                    </div>
                </div>
                <div class="skills frame">
                    <h4 class="h4">Compétences</h4>
                    <div class="flex-column">
                        <div class="flex-row">
                            <label class="label w-2 text-center">Tot.</label>
                            <label class="label w-10">Nom</label>
                        </div>
                        <input type="hidden" name="attr_skills_malus">
                        <fieldset class="repeating_skills">
                            <div class="skill">
                                <input class="options-flag" type="checkbox" name="attr_options-flag"
                                       checked><span>y</span>
                                <div class="flex-row align-center">
                                    <input type="number" class="input w-2" name="attr_total" value="0" readonly>
                                    <div class="wa">
                                        <input type="hidden" name="attr_skillrollvalue"
                                               value="&{template:main} {{titre=Test de '@{name}'}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{total}]]}}">
                                        <button name="attr_skillroll" type="roll" value="@{skillrollvalue}"
                                                class="button-label bold w-10 text-left">
                                            <span name="attr_name"></span>&nbsp;<span name="attr_caracname"></span>
                                        </button>
                                    </div>
                                </div>
                                <div class="flex-column options-options border-bottom">
                                    <div class="flex-row align-center">
                                        <label class="skill-label w-4">Nom :</label>
                                        <input type="text" class="w-8 visible-input" name="attr_name">
                                    </div>
                                    <div class="flex-row align-center">
                                        <label class="skill-label w-4">Rangs :</label>
                                        <input type="number" class="visible-input w-8" name="attr_ranks">
                                    </div>
                                    <div class="flex-row align-center">
                                        <label class="skill-label w-4">Carac :</label>
                                        <select class="w-8" name="attr_carac">
                                            <option value="@{for_mod}">Force</option>
                                            <option value="@{dex_mod}">Dextérité</option>
                                            <option value="@{con_mod}">Constitution</option>
                                            <option value="@{int_mod}">Intelligence</option>
                                            <option value="@{sag_mod}">Sagesse</option>
                                            <option value="@{cha_mod}">Charisme</option>
                                        </select>
                                        <input type="hidden" name="attr_caracname">
                                    </div>
                                    <div class="flex-row align-center">
                                        <label class="skill-label w-4">Mod :</label>
                                        <input type="number" class="visible-input w-8" name="attr_mod">
                                    </div>
                                    <div class="flex-row align-center">
                                        <label class="skill-label w-8">Malus d'armure :</label>
                                        <input type="checkbox" class="visible-input w-4" name="attr_has_armor_malus">
                                    </div>
                                    <div class="flex-column">
                                        <label class="skill-label w-4">Notes :</label>
                                        <input type="text" class="w-12 visible-input" name="attr_notes">
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
        </div>

        <!-- Autres Maitrises !-->
        <div class="flex-column masteries frame-b">
            <h4 class="h4">Maitrises</h4>
            <div class="flex-row">
                <label class="label text-center w-4">Type</label>
                <label class="label text-left w-7">Description</label>
                <span class="picto invisible w-1"></span>

            </div>
            <fieldset class="repeating_masteries">
                <div class="flex-row">
                    <input type="text" class="visible-input text-center w-4"
                           name="attr_mastery-type">
                    <input type="text" class="visible-input w-7" name="attr_mastery-desc">
                    <input type="hidden" name="attr_masteryrollvalue"
                           value="&{template:main} {{titre=Maitrise (@{mastery-type})}} {{subtitle=@{character_name} }} {{description=@{mastery-desc}}}">
                    <button name="attr_skillroll" type="roll" value="@{masteryrollvalue}"
                            class="button-roll picto w-1">w
                    </button>
                </div>
            </fieldset>

        </div>
    </div>
    <div class="flex-column w-4">
        <div class="flex-column gray-bg-b">
            <!-- AC Récapitulatif !-->
            <div class="flex-row AC-Recap">
                <div class="w-3 AC">
                    <input type="number" class="input" name="attr_ac_tot" readonly>
                    <label class="label">Classe d'armure</label>
                </div>
                <div class="w-3 AC">
                    <input type="number" class="input" name="attr_ac_tot_ff" readonly>
                    <label class="label">Pris au Dépourvu</label>
                </div>
                <div class="w-3 AC">
                    <input type="number" class="input" name="attr_ac_tot_t" readonly>
                    <label class="label">CA de<br>contact</label>
                </div>
            </div>
            <!-- Init Rd Vitesse  !-->
            <div class="flex-row stats">
                <div class="w-4 stat">
                    <input type="number" class="input" name="attr_init_tot" step="0.01" readonly>
                    <input type="hidden" name="attr_init_rol_value" value="&{template:main} {{titre=Initiative}} {{subtitle=@{character_name}}} {{Jet=[[1D20+@{init_tot} &{tracker}]]}}">
                    <button name="attr_init_roll" type="roll" value="@{init_rol_value}"
                            class="button-label bold text-center">
                        Initiative
                    </button>
                </div>
                <div class="w-4 stat">
                    <input type="number" class="input" name="attr_rd">
                    <label class="label">RD</label>
                </div>
                <div class="w-4 stat">
                    <input type="number" class="input" name="attr_vit">
                    <label class="label">Vitesse</label>
                </div>
            </div>

            <div class="flex-column HP frame-ct">
                <div class="flex-row justify-center align-center">
                    <label class="label-secondary text-right w-6">Points de vie max</label>
                    <input type="number" class="visible-input w-6" name="attr_pv_max">
                </div>
                <input type="number" class="input" name="attr_pv">
                <h4 class="h4">Points de vies Actuels</h4>
            </div>
            <div class="flex-column HP frame-cb">
                <input type="number" class="input" name="attr_pv_tmp">
                <h4 class="h4">Points de vies temporaires</h4>
            </div>
        </div>
        <!-- Attaques -->
        <div class="flex-column attaques frame-c">
            <div class="flex-row top">
                <div class="flex-row w-8">
                    <label class="label-secondary w-7">Nom</label>
                    <label class="label-secondary w-5 text-center">Att</label>
                </div>
                <label class="label-secondary w-4 text-center">Dégats</label>
            </div>
            <fieldset class="repeating_attaques">
                <div class="attq">
                    <input class="options-flag" type="checkbox" name="attr_options-flag" checked><span>y</span>
                    <div class="flex-row align-center">
                        <input type="hidden" name="attr_atq-roll-val"
                               value="&{template:main} {{titre=Attaque avec @{name}}} {{subtitle=@{character_name}}} {{Attaque=[[1d20+@{bba}+@{atq-carac-val}+@{atq-bonus}+@{atq-bonus-2}]]}} {{Dégats=[[@{dgt-base}+@{dgt-carac-val}+@{dgt-bonus}]]}}">
                        <button type="roll" name="attr_atq-roll" value="@{atq-roll-val}"
                                class="gray-line flex-row bold w-8 button-label">
                            <span class="w-7" name="attr_name"></span>
                            <span class="w-5 text-center" name="attr_atq-total"></span>
                        </button>
                        <input type="hidden" name="attr_dgt-roll-val"
                               value="&{template:main} {{titre=Dégats de @{name}}} {{subtitle=@{character_name}}} {{Dégats=[[@{dgt-base}+@{dgt-carac-val}+@{dgt-bonus}]]}}">
                        <button type="roll" name="attr_attqdgtroll" value="@{dgt-roll-val}"
                                class="gray-line flex-row bold w-4 justify-center button-label">
                            <span name="attr_degats"></span>
                        </button>
                    </div>
                    <div class="flex-column options-options border-bottom align-center">
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Nom :</label>
                            <input type="text" class="visible-input text-left w-9" name="attr_name">
                        </div>
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Atq :</label>
                            <select class="w-3" name="attr_atq-carac">
                                <option value="-">-</option>
                                <option value="FOR">FOR</option>
                                <option value="DEX">DEX</option>
                            </select>
                            +
                            <input type="number" class="visible-input w-2" name="attr_atq-bonus">
                            +
                            <input type="number" class="visible-input w-2" name="attr_atq-bonus-2">
                            <input type="hidden" name="attr_atq-total">
                            <input type="hidden" name="attr_atq-carac-val">
                            <input type="hidden" name="attr_degats">
                            <input type="hidden" name="attr_dgt-carac-val">
                        </div>
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Dgt :</label>
                            <input type="text" class="visible-input w-3" name="attr_dgt-base"
                                   placeholder="1d4">
                            +
                            <select class="w-3" name="attr_dgt-carac">
                                <option value="-">-</option>
                                <option value="FOR">FOR</option>
                                <option value="DEX">DEX</option>
                                <option value="1,5FOR">1,5 x FOR</option>
                                <option value="1/2FOR">1/2 xFOR</option>
                            </select>
                            +
                            <input type="number" class="visible-input w-2" name="attr_dgt-bonus">
                        </div>
                        <div class="flex-row align-center">
                            <label class="attq-label w-3">Portée :</label>
                            <input type="text" class="visible-input text-left w-9" name="attr_range">
                        </div>
                        <div class="flex-column w-12">
                            <label class="skill-label w-3">Notes :</label>
                            <input type="text" class="visible-input" name="attr_notes">
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="flex-row align-center">
                <label class="label-secondary text-right w-3">BBA :</label>
                <input type="number" class="visible-input w-9 " name="attr_bba">
            </div>
            <h4 class="h4">Attaques</h4>
        </div>
        <!-- Inventaire -->
        <div class="flex-column inventory-list frame-c">
            <!-- Capacités Raciales -->
            <fieldset class="repeating_inventaire">
                <div class="inventory">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_skillroll" type="roll" value="@{rollvalue}"
                                class="button-label  text-left">
                            <span class="bold" span name="attr_btn-bold-text"> </span> <span name="attr_btn-text"></span>
                        </button>
                        <input type="hidden" name="attr_btn-text"/>
                        <input type="hidden" name="attr_btn-bold-text" val="Nouvel objet"/>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{Quantité=@{qte}}} {{Poids=@{poids}kg}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"> Nom : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"> Qté : </label>
                            <input type="number" class="visible-input w-9 " name="attr_qte">
                        </div>
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"> Poids : </label>
                            <input type="number" class="visible-input w-9 " name="attr_poids">
                        </div>
                        <label class="label">Description</label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="h4">Inventaire</h4>
        </div>
        <!-- Armures -->
        <div class="flex-column masteries frame-c">
            <div class="armor flex-column">
                <input class="options-flag" type="checkbox" name="attr_armor_options-flag"
                       checked><span>y</span>
                <div class="flex-row align-center align-center options-display">
                    <label class="w-12 label text-left  ">
                        <span class="bold">Armure :</span> <span name="attr_armor_name"></span>&nbsp;
                    </label>
                </div>
                <div class="flex-column options-options">
                    <label class="w-12 label text-left  ">
                        <span class="bold">Armure</span>
                    </label>
                    <div class="flex-row justify-center">
                        <label class="label text-right w-3">Nom:</label>
                        <input type="text" class="visible-input w-9 " name="attr_armor_name">
                    </div>
                    <div class="flex-row gap05">
                        <div class="flex-column w-4">
                            <input type="number" class="visible-input w-12" name="attr_armor_bonus">
                            <label class="label text-center">Bonus</label>
                        </div>
                        <div class="flex-column w-4">
                            <input type="number" class="visible-input w-12" name="attr_armor_max_dex">
                            <label class="label text-center">Dex Max</label>
                        </div>
                        <div class="flex-column w-4">
                            <input type="number" class="visible-input w-12" name="attr_armor_Malus">
                            <label class="label text-center">Malus</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="armor flex-column">
                <input class="options-flag" type="checkbox" name="attr_shield_options-flag"
                       checked><span>y</span>
                <div class="flex-row align-center options-display">
                    <label class="w-12 label text-left  ">
                        <span class="bold">Bouclier :</span> <span name="attr_shield_name"></span>&nbsp;
                    </label>
                </div>
                <div class="flex-column options-options">
                    <label class="w-12 label text-left  ">
                        <span class="bold">Bouclier</span>
                    </label>
                    <div class="flex-row justify-center">
                        <label class="label text-right w-3">Nom:</label>
                        <input type="text" class="visible-input w-9 " name="attr_shield_name">
                    </div>
                    <div class="flex-row gap05">
                        <div class="flex-column w-4">
                            <input type="number" class="visible-input w-12" name="attr_shield_bonus">
                            <label class="label text-center">Bonus</label>
                        </div>
                        <div class="flex-column w-4">
                            <input type="number" class="visible-input w-12" name="attr_shield_malus">
                            <label class="label text-center">Malus</label>
                        </div>
                        <div class="flex-column w-4 justify-end">
                            <input type="checkbox" class="visible-input w-12" name="attr_shield_equipe">
                            <label class="label text-center">Équipé?</label>
                        </div>
                    </div>
                </div>
            </div>
            <label class="w-12 label text-left bold">
                Bonus Divers
            </label>
            <div class="flex-row gap05">
                <div class="flex-column w-4">
                    <input type="number" class="visible-input w-12" name="attr_touch_bonus">
                    <label class="label text-center">Bonus<br/>au contact</label>
                </div>
                <div class="flex-column w-4">
                    <input type="number" class="visible-input w-12" name="attr_flatfooted_bonus">
                    <label class="label text-center">Bonus<br/>au dépourvu</label>
                </div>
                <div class="flex-column w-4">
                    <input type="number" class="visible-input w-12" name="attr_universal_armor_bonus">
                    <label class="label text-center">Bonus<br/>Universel</label>
                </div>
            </div>
            <h4 class="h4">Armure</h4>
        </div>
    </div>
    <div class="flex-column gap-1 w-4">
        <!-- Capacités Raciales -->
        <div class="flex-column traits frame-ct">
            <fieldset class="repeating_racial">
                <div class="trait">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=Trait Racial: @{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"> Nom : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label">Description</label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="h4">Capacité Raciales</h4>
        </div>
        <!-- Capacités classes -->
        <div class="flex-column traits frame-cm">
            <fieldset class="repeating_class">
                <div class="trait">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=Capacité de classe: @{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"> Nom : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label">Description</label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="h4">Capacité de classe</h4>
        </div>
        <!-- Dons -->
        <div class="flex-column traits frame-cb">
            <fieldset class="repeating_feat">
                <div class="trait">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"> Nom : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label">Description</label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="h4">Dons</h4>
        </div>
    </div>
</div>