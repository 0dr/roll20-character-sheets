GCS Text Template v1
{
  "CharacterName": "{{.Name}}",
  "Fullname": "{{.Name}}",
  "Playername": "{{.Player}}",
  "Nickname": "",
  "Race": "",
  "RaceRef": "",
  "TemplateNames": "",
  "Gender": "{{.Gender}}",
  "Size": "{{.SizeModifier}}",
  "ApplySizeModifier": false,
  "Reactions": "{{range $i, $v := .Reactions}}{{if $i}}, {{end}}{{.Situation}} {{if lt .Total 1}}{{.Total}}{{else}}+{{.Total}}{{end}}{{end}}",
  "CampaignTl": "{{.TechLevel}}",
  "TotalPoints": "{{.Points.Total}}",
  "Tl": "{{.TechLevel}}",
  "TlPts": 0.0,
  "Status": "0",
  "Wealth": "Average",
  "Income": 0,
  "CostOfLiving": 0,
  "Stash": 0,
  "Age": "{{.Age}}",
  "Height": {{printf "%q" .Height}},
  "Weight": "0",
  "Appearance": "{{range .Traits}}{{if eq .Description "Appearance"}}{{.Points}}{{end}}{{end}}",
  "GeneralAppearance": {{printf "%q" (print "Body Type: " .BodyType.Name ". Hair: " .Hair ". Eyes: " .Eyes ". Skin: " .Skin ". Handedness: " .Handedness ". Weight: " .Weight)}},
  "StrengthMod": 0,
  "StrengthPoints": "{{range .Attributes.Primary}}{{if eq .Name "ST"}}{{.Points}}{{end}}{{end}}",
  "DexterityMod": 0.0,
  "DexterityPoints": "{{range .Attributes.Primary}}{{if eq .Name "DX"}}{{.Points}}{{end}}{{end}}",
  "IntelligenceMod": 0.0,
  "IntelligencePoints": "{{range .Attributes.Primary}}{{if eq .Name "IQ"}}{{.Points}}{{end}}{{end}}",
  "HealthMod": 0.0,
  "HealthPoints": "{{range .Attributes.Primary}}{{if eq .Name "HT"}}{{.Points}}{{end}}{{end}}",
  "PerceptionMod": 0.0,
  "PerceptionPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Per"}}{{.Points}}{{end}}{{end}}",
  "VisionMod": 0.0,
  "VisionPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Per"}}{{.Points}}{{end}}{{end}}",
  "HearingMod": 0.0,
  "HearingPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Hearing"}}{{.Points}}{{end}}{{end}}",
  "TasteSmellMod": 0.0,
  "TasteSmellPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Taste & Smell"}}{{.Points}}{{end}}{{end}}",
  "TouchMod": 0.0,
  "TouchPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Touch"}}{{.Points}}{{end}}{{end}}",
  "WillpowerMod": 0.0,
  "WillpowerPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Will"}}{{.Points}}{{end}}{{end}}",
  "FearCheckMod": 0.0,
  "FearCheckPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Fright Check"}}{{.Points}}{{end}}{{end}}",
  "StunCheckMod": 0.0,
  "KnockdownCheckMod": 0.0,
  "UnconsciousCheckMod": 0.0,
  "UnconsciousCheckPoints": 0.0,
  "DeathCheckMod": 0.0,
  "DeathCheckPoints": 0.0,
  "BasicSpeedMod": 0.0,
  "BasicSpeedPoints": "{{range .Attributes.Secondary}}{{if eq .Name "Basic Speed"}}{{.Points}}{{end}}{{end}}",
  "BasicMoveMod": 0.0,
  "BasicMovePoints": "{{range .Attributes.Secondary}}{{if eq .Name "Basic Move"}}{{.Points}}{{end}}{{end}}",
  "EnhancedGroundMoveMod": 0.0,
  "EnhancedGroundMovePoints": 0.0,
  "DodgeMod": 0.0,
  "LiftStMod": 2.0,
  "LiftStPoints": 0.0,
  "StrikingStMod": 0.0,
  "StrikingStPoints": 0.0,
  "HitPointsMod": 0.0,
  "HitPointsPoints": "{{range .Attributes.Pools}}{{if eq .Name "HP"}}{{.Points}}{{end}}{{end}}",
  "HitPoints": "{{range .Attributes.Pools}}{{if eq .Name "HP"}}{{.Value}}{{end}}{{end}}",
  "FatiguePointsMod": 0.0,
  "FatiguePointsPoints": "{{range .Attributes.Pools}}{{if eq .Name "FP"}}{{.Points}}{{end}}{{end}}",
  "FatiguePoints": "{{range .Attributes.Pools}}{{if eq .Name "FP"}}{{.Value}}{{end}}{{end}}",
  "FlightChecked": false,
  "FlightPoints": 0.0,
  "BasicAirMoveMod": 0.0,
  "BasicAirMovePoints": 0.0,
  "EnhancedAirLevel": 0.0,
  "EnhancedAirMovePoints": 0.0,
  "AmphibiousChecked": false,
  "AmphibiousPoints": 0.0,
  "BasicWaterMoveMod": 0.0,
  "BasicWaterMovePoints": 0.0,
  "EnhancedWaterLevel": 0.0,
  "EnhancedWaterMovePoints": 0.0,
  "SuperJumpEnteredLevel": 0.0,
  "SuperJumpPoints": 0.0,
  "SpellBonus": 0.0,
  "CombatReflexes": "{{range .Traits}}{{if eq .Description "Combat Reflexes"}}true{{end}}{{end}}",
  "RepeatingLanguages": [{{range $i, $v := .Traits}}{{if contains .Description "Language:" }}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" (print (trimPrefix .Description "Language: ") " " .Points " points")}},
      "Spoken": 0.0,
      "Written": 0.0,
      "IsNative": {{if eq .Points 0}}true{{else}}false{{end}}
    },{{end}}{{end}}
  ],
  "RepeatingCultures": [{{range $i, $v := .Traits}}{{if contains .Description "Cultural Familiarity (" }}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" (trimSuffix (trimPrefix .Description "Cultural Familiarity (") ")")}},
      "Points": {{.Points}}
    },{{end}}{{end}}
  ],
  "RepeatingTraits": [{{range .Traits}}{{$tags := join .Tags ", "}}{{if and (eq .Type "item") (gt .Points 0) (not (contains $tags "Perk")) (not (contains .Description "Language:")) (not (contains .Description "Cultural Familiarity ("))}}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" .Description}},
      "TraitLevel": 0,
      "Foa": "",
      "Points": {{.Points}},
      "Ref": {{printf "%q" .PageRef}},
      "Notes": {{printf "%q" (print .Notes "\n" .UserDescription)}}
    },{{end}}{{end}}
  ],
  "RepeatingPerks": [{{range .Traits}}{{$tags := join .Tags ", "}}{{if and (eq .Type "item") (contains $tags "Perk")}}
    {
        "Idkey": "{{.ID}}",
        "Name": {{printf "%q" .Description}},
        "Foa": "",
        "Points": {{.Points}},
        "Ref": {{printf "%q" .PageRef}},
        "Notes": {{printf "%q" (print .Notes "\n" .UserDescription)}}
    },{{end}}{{end}}
  ],
  "RepeatingQuirks": [{{range .Traits}}{{$tags := join .Tags ", "}}{{if and (eq .Type "item") (contains $tags "Quirk")}}
    {
        "Idkey": "{{.ID}}",
        "Name": {{printf "%q" .Description}},
        "Foa": "",
        "Points": {{.Points}},
        "Ref": {{printf "%q" .PageRef}},
        "Notes": {{printf "%q" (print .Notes "\n" .UserDescription)}}
    },{{end}}{{end}}
  ],
  "RepeatingDisadvantages": [{{range .Traits}}{{$tags := join .Tags ", "}}{{if and (eq .Type "item") (lt .Points 0) (not (contains $tags "Quirk"))}}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" .Description}},
      "TraitLevel": 0,
      "Foa": "",
      "ControlRating": "",
      "Points": {{.Points}},
      "Ref": {{printf "%q" .PageRef}},
      "Notes": {{printf "%q" (print .Notes "\n" .UserDescription)}}
    },{{end}}{{end}}
  ],
  "RepeatingRacial": [],
  "RepeatingSkills": [{{range .Skills}}{{$tags := join .Tags ", "}}{{if not (contains $tags "Technique")}}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" .Description}},
      "Tl": "",
      "Base": "{{if contains .Difficulty "ST"}}@{strength}{{else if contains .Difficulty "DX"}}@{dexterity}{{else if contains .Difficulty "IQ"}}@{intelligence}{{else if contains .Difficulty "HT"}}@{health}{{else if contains .Difficulty "Will"}}@{willpower}{{else if contains .Difficulty "Per"}}@{perception}{{else}}10{{end}}",
      "Difficulty": "{{if contains .Difficulty "/E"}}E{{else if contains .Difficulty "/A"}}A{{else if contains .Difficulty "/H"}}H{{else if contains .Difficulty "/VH"}}VH{{else if contains .Difficulty "/WC"}}WC{{else}}A{{end}}",
      "Bonus": 0,
      "Points": {{.Points}},
      "Skill": {{.Level}},
      "Ref": {{printf "%q" .PageRef}},
      "SkillModNotes": "",
      "Notes": {{printf "%q" (print .Notes "\n" .ModifierNotes)}}
    },{{end}}{{end}}
  ],
  "RepeatingTechniquesrevised": [{{range .Skills}}{{$tags := join .Tags ", "}}{{if (contains $tags "Technique")}}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" .Description}},
      "Parent": "",
      "BaseLevel": "0",
      "Default": 0.0,
      "MaxModifier": 0.0,
      "Difficulty": "{{.Difficulty}}",
      "SkillModifier": 0.0,
      "Points": {{.Points}},
      "Skill": {{.Level}},
      "Ref": {{printf "%q" .PageRef}},
      "SkillModNotes": "",
      "Notes": {{printf "%q" (print .Notes "\n" .ModifierNotes)}}
    },{{end}}{{end}}
  ],
  "RepeatingDefense": [{{range $i, $me := .MeleeWeapons}}{{if not (eq $me.Parry "No")}}
    {
      "Idkey": "MeleeWapon-{{$i}}",
      "Name": {{printf "%q" .Description}},
      "Type": "Parry",
      "Info": "",
      "Skill": {{.Parry}},
      "SkillMod": 0.0,
      "DefenseModReason": "",
      "InfoDescription": ""
    },{{end}}{{end}}
  ],
  "RepeatingMelee": [{{range $i, $me := .MeleeWeapons}}
    {{$damageDesc := replace .Damage "d" "d6" -}}
    {
      "Idkey": "MeleeWapon-{{$i}}",
      "Name": "{{.Description}} ({{.Usage}})",
      "Damage": "{{if contains .Damage " cr"}}{{replace $damageDesc " cr" ""}}{{else if contains .Damage " pi"}}{{replace $damageDesc " pi" ""}}{{else if contains .Damage " imp"}}{{replace $damageDesc " imp" ""}}{{else if contains .Damage " cut"}}{{replace $damageDesc " cut" ""}}{{else if contains .Damage " burn"}}{{replace $damageDesc " burn" ""}}{{else if contains .Damage " tox"}}{{replace $damageDesc " tox" ""}}{{else if contains .Damage " aff"}}{{replace $damageDesc " aff" ""}}{{else if contains .Damage " cor"}}{{replace $damageDesc " cor" ""}}{{else if contains .Damage " fat"}}{{replace $damageDesc " fat" ""}}{{else if contains .Damage " spec"}}{{replace $damageDesc " spec" ""}}{{else}}{{$damageDesc}}{{end}}",
      "Type": "{{if contains .Damage " cr"}}cr{{else if contains .Damage " pi"}}pi{{else if contains .Damage " imp"}}imp{{else if contains .Damage " cut"}}cut{{else if contains .Damage " burn"}}burn{{else if contains .Damage " tox"}}tox{{else if contains .Damage " aff"}}aff{{else if contains .Damage " cor"}}cor{{else if contains .Damage " fat"}}fat{{else if contains .Damage " spec"}}spec{{else}}cr{{end}}",
      "Reach": "{{.Reach}}",
      "Skill": {{.Level}},
      "ArmorDivisor": 1,
      "Notes": {{printf "%q" (print .Notes "\\nMinimum ST: " .Strength)}},
      "Block": "{{.Block}}",
      "Parry": "{{.Parry}}"
    },{{end}}
  ],
  "RepeatingRanged": [{{range $i, $me := .RangedWeapons}}
    {{$damageDesc := replace .Damage "d" "d6" -}}
    {
      "Idkey": "RangedWeapon-{{$i}}",
      "Name": {{printf "%q" .Description}},
      "Damage": "{{if contains .Damage " cr"}}{{replace $damageDesc " cr" ""}}{{else if contains .Damage " pi"}}{{replace $damageDesc " pi" ""}}{{else if contains .Damage " imp"}}{{replace $damageDesc " imp" ""}}{{else if contains .Damage " cut"}}{{replace $damageDesc " cut" ""}}{{else if contains .Damage " burn"}}{{replace $damageDesc " burn" ""}}{{else if contains .Damage " tox"}}{{replace $damageDesc " tox" ""}}{{else if contains .Damage " aff"}}{{replace $damageDesc " aff" ""}}{{else if contains .Damage " cor"}}{{replace $damageDesc " cor" ""}}{{else if contains .Damage " fat"}}{{replace $damageDesc " fat" ""}}{{else if contains .Damage " spec"}}{{replace $damageDesc " spec" ""}}{{else}}{{$damageDesc}}{{end}}",
      "Type": "{{if contains .Damage " cr"}}cr{{else if contains .Damage " pi"}}pi{{else if contains .Damage " imp"}}imp{{else if contains .Damage " cut"}}cut{{else if contains .Damage " burn"}}burn{{else if contains .Damage " tox"}}tox{{else if contains .Damage " aff"}}aff{{else if contains .Damage " cor"}}cor{{else if contains .Damage " fat"}}fat{{else if contains .Damage " spec"}}spec{{else}}cr{{end}}",
      "Acc": "{{.Accuracy}}",
      "Range": "{{.Range}}",
      "Rof": "{{.RateOfFire }}",
      "Shots": "{{.Shots}}",
      "Bulk": "{{.Bulk}}",
      "Recoil": "{{.Recoil}}",
      "Skill": {{.Level}},
      "Malfunction": false,
      "MalfunctionVerify": false,
      "MalfunctionVeryReliable": false,
      "ArmorDivisor": "1",
      "Notes": {{printf "%q" (print .Notes "\\nMinimum ST: " .Strength)}},
    },{{end}}
  ],
  "RepeatingItem": [{{range .Equipment.Carried}}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" .Description}},
      "Tl": "{{.TechLevel}}",
      "LegalityClass": "{{.LegalityClass}}",
      "Ref": {{printf "%q" .PageRef}},
      "Count": {{.Quantity}},
      "Cost": {{.Cost}},
      "Weight": "{{replace .Weight " lb" ""}}",
      "Carried": "{{if .Equipped}}1{{else}}0{{end}}",
      "Notes": {{printf "%q" (print .Notes "\n" .ModifierNotes "\nUses: " .Uses "\nMax Uses: " .MaxUses "\nType: " .Type)}}
    },{{end}}
  ],
  "RepeatingSpells": [{{range .Spells}}
    {
      "Idkey": "{{.ID}}",
      "Name": {{printf "%q" .Description}},
      "Difficulty": "{{if contains .Difficulty "/E"}}E{{else if contains .Difficulty "/A"}}A{{else if contains .Difficulty "/H"}}H{{else if contains .Difficulty "/VH"}}VH{{else if contains .Difficulty "/WC"}}WC{{else}}A{{end}}",
      "SpellModifier": 0,
      "Points": {{.Points}},
      "SpellResistedBy": {{printf "%q" .Resist}},
      "Duration": {{printf "%q" .Duration}},
      "Cost": {{printf "%q" .Mana.Cast}},
      "Skill": {{.Level}},
      "Ref": {{printf "%q" .PageRef}},
      "Casttime": "{{.TimeToCast}}",
      "Maintain": {{printf "%q" .Mana.Maintain}},
      "SpellClass": {{printf "%q" .Class}},
      {{range $i, $c := .Colleges}}{{if eq $i 0}}"SpellCollege": {{printf "%q" .}}{{end}}{{end}},
      {{if ge (len .Colleges) 2 -}}
        {{range $i, $c := .Colleges}}{{if eq $i 1}}"SpellCollegeSecondary": {{printf "%q" .}}{{end}}{{end}},
      {{end -}}
      "SpellModNotes": "",
      "SpellNotes": {{printf "%q" (print .Notes "\\nRituals: " .Rituals "\\nType: " .Type)}}
    },{{end}}
  ]
}