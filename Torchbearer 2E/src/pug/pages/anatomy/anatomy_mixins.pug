mixin zeroPip(attr)
  label.sheet-pip.sheet-pip-zero&attributes(attributes) X
    input(
      checked="checked" 
      value="0" 
      name="attr_" + attr 
      type="radio"
    )

mixin pip(attr, index)
  label.sheet-pip(class="sheet-" + index)&attributes(attributes)
    input(
      value=index
      name="attr_" + attr 
      type="radio"
    )

mixin ability(label, attr, max)
  .sheet-skill-name #{label}
  .sheet-rating
    input.sheet-edit(
      value!="0"
      name="attr_" + attr
      type="number"
    )
    span.sheet-play.sheet-handwritten(name="attr_" + attr)
  .sheet-advancement
    input.sheet-advancement-flag(
      name="attr_" + attr 
      type="hidden"
    )
    .sheet-pass
      div <strong>P</strong>:
      +zeroPip(attr + "_pass")
      each _, i in Array(max)
        +pip(attr + "_pass", i).sheet-hidden
    .sheet-fail
      div <strong>F</strong>:
      +zeroPip(attr + "_fail")
      each _, i in Array(max)
        +pip(attr + "_fail", i).sheet-hidden

mixin skill(label, attr, bl)
  .sheet-skill-name #{label}
  .sheet-rating
    input.sheet-edit(
      value!="0"
      name="attr_" + attr
      type="number"
    )
    span.sheet-play.sheet-handwritten(name="attr_" + attr)
  .sheet-advancement
    input.sheet-advancement-flag(
      name="attr_" + attr 
      type="hidden"
    )
    input.sheet-nature-flag(
      name="attr_nature" 
      type="hidden"
    )
    .sheet-pass
      div <strong>P</strong>:
      +zeroPip(attr + "_pass")
      each _, i in Array(7)
        +pip(attr + "_pass", i).sheet-hidden
    .sheet-fail
      div <strong>F</strong>:
      +zeroPip(attr + "_fail")
      each _, i in Array(7)
        +pip(attr + "_fail", i).sheet-hidden
    .sheet-bl
      div <strong>BL</strong>:
      +zeroPip(attr + "_bl")
      each _, i in Array(7)
        +pip(attr + "_bl", i).sheet-hidden
  .sheet-bl-root #{bl}

mixin customSkill(skillNum)
  .sheet-skill-name
    input.sheet-edit(
      name="attr_skill" + skillNum + "_name"
      placeholder="Skill..."
      type="text"
    )
    span.sheet-play(name="attr_skill" + skillNum + "_name")
  .sheet-rating
    input.sheet-edit(
      value!="0"
      name="attr_skill" + skillNum
      type="number"
    )
    span.sheet-play.sheet-handwritten(name="attr_skill" + skillNum)
  .sheet-advancement
    input.sheet-advancement-flag(
      name="attr_skill" + skillNum
      type="hidden"
    )
    input.sheet-nature-flag(
      name="attr_nature" 
      type="hidden"
    )
    .sheet-pass
      div <strong>P</strong>:
      +zeroPip("skill" + skillNum + "_pass")
      each _, i in Array(7)
        +pip("skill" + skillNum + "_pass", i).sheet-hidden
    .sheet-fail
      div <strong>F</strong>:
      +zeroPip("skill" + skillNum + "_fail")
      each _, i in Array(7)
        +pip("skill" + skillNum + "_fail", i).sheet-hidden
    .sheet-bl
      div <strong>BL</strong>:
      +zeroPip("skill" + skillNum + "_bl")
      each _, i in Array(7)
        +pip("skill" + skillNum + "_bl", i).sheet-hidden
  .sheet-bl-root
    span.sheet-play(name="attr_skill" + skillNum + "_bl_d")
    select(name="attr_skill" + skillNum + "_bl_d").sheet-edit
      option(
        selected="selected" 
        value!="W"
      ) W
      option(value!="H") H
