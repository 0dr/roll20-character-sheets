<div class="main">
    <div class="header">
        <div class="generator flex-center">
            <button class="btn b-generator" type="action" name="act_askgeneration" data-i18n="b-chargenerator">Charactergenerator</button>
        </div>
        <div class="logo"/>
            <!--<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/TheWell/images/Stairs.png" alt=""/>-->
            <img src="https://raw.githubusercontent.com/Garonenur/roll20-character-sheets/TheWell/TheWell/images/Stairs.png" alt=""/>
        </div>
        <div class="headline flex-center">
            <h1 data-i18n="h-maintitle">Gravedigger</h1>
        </div>
        <div class="name">
            <label data-i18n="l-name">Name:</label>
            <input type="text" name="attr_character_name" data-i18n-placeholder="iph-charname" placeholder="Character Name"/>
            <label data-i18n="l-pronouns">Pronouns:</label>
            <input type="text" name="attr_pronouns" data-i18n-placeholder="ihp-pronoun" placeholder="he/she/they"/>
        </div>
        <div class="stress section flex-col-stretch">
            <input type="number" name="attr_stress" value="0" min="0"/>
            <span data-i18n="at-stress">Stress</span>
        </div>
        <div class="resilience section flex-col-stretch">
            <input type="number" name="attr_resilience" value="10" min="0"/>
            <span data-i18n="at-resilience">Resilience</span>
        </div>
        <div class="assets section flex-col-stretch">
            <input type="number" name="attr_assets" value="0" min="0" class="flex-col-item"/>
            <span data-i18n="at-asset" class="flex-col-item">Asset Points</span>
        </div>
        <div class="pool flex-center">
            <!--<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/TheWell/images/Pool.png" alt=""/>-->
            <img src="https://raw.githubusercontent.com/Garonenur/roll20-character-sheets/TheWell/TheWell/images/Pool.png" alt=""/>
        </div>
        <div class="pool flex-col-right">
            <div class="flex-col-item"><label data-i18n="atl-actionpool">actionpool:</label></div>
            <div class="flex-col-item"><input type="number" value="0" name="attr_actionpool"/></div>
        </div>
    </div>
    <div class="skill section" >
        <div>
            <h3 data-i18n="h-skillsection">Skills</h3>
            <span data-i18n="t-defaultskills">standard skills:</span>
            <fieldset class="repeating_skills">
                <select name="attr_skilltype" class="choice">
                    <option data-i18n="o-s-athletics" value="athletics">athletics</option>
                    <option data-i18n="o-s-awareness" value="awareness">awareness</option>
                    <option data-i18n="o-s-convincing" value="convincing">convincing</option>
                    <option data-i18n="o-s-explocing" value="exploring">exploring</option>
                    <option data-i18n="o-s-firstaid" value="firstaid">first aid</option>
                    <option data-i18n="o-s-mechanics" value="mechanics">mechanics</option>
                    <option data-i18n="o-s-runes" data-i18n-vars="*" value="runes">runes{{*}}</option>
                    <option data-i18n="o-s-stealth" value="stealth">stealth</option>
                </select>
            </fieldset>
            <span data-i18n="t-customskills">custom skills:</span>
            <fieldset class="repeating_otherskills">
                <input type="text" value="" name="attr_other_skill" data-i18n-placeholder="iph-newskill" placeholder="new skill name"/>
            </fieldset>
        </div>
        <div class="subsection">
            <h3 data-i18n="h-runessection">Runes</h3>
            <span data-i18n="t-knownrunes">known runes:</span>
            <fieldset class="repeating_runes">
                <select name="attr_runetype" class="choice">
                    <option data-i18n="o-r-annul" value="annul">annul</option>
                    <option data-i18n="o-r-beacon" value="beacon">beacon</option>
                    <option data-i18n="o-r-burn" value="burn">burn</option>
                    <option data-i18n="o-r-dissolve" value="dissolve">dissolve</option>
                    <option data-i18n="o-r-fog" value="fog">fog</option>
                    <option data-i18n="o-r-light" value="light">light</option>
                    <option data-i18n="o-r-purify" value="purify">purify</option>
                    <option data-i18n="o-r-resin" value="resin">resin</option>
                    <option data-i18n="o-r-reveal" value="revealmagic">reveal magic</option>
                    <option data-i18n="o-r-scry" value="scry">scry</option>
                    <option data-i18n="o-r-spywall" value="spywall">spywall</option>
                    <option data-i18n="o-r-tripwire" value="tripwire">tripwire</option>
                </select>
            </fieldset>
            <span data-i18n="t-customrunes">new runes:</span>
            <fieldset class="repeating_otherrunes">
                <input type="text" value="" name="attr_other_rune" data-i18n-placeholder="iph-newrune" placeholder="new rune name"/>
            </fieldset>
        </div>
        <div class="subsection">
            <h3 data-i18n="h-weaponandarmorsection">Weapons &amp; Armor</h3>
            <h4 data-i18n="h-weaponssubsection">Weapons</h4>
            <fieldset class="repeating_h1weapons">
                <select name="attr_h1weapontype" class="choice">
                    <option data-i18n="o-w-axe" value="axe">axe</option>
                    <option data-i18n="o-w-hammerorpick" value="hammer">hammer/pick</option>
                    <option data-i18n="o-w-spear" value="spear">spear</option>
                    <option data-i18n="o-w-sword" value="sword">sword</option>
                </select>
                <span data-i18n="lcb-massive">massive:</span>
                <input type="checkbox" name="attr_is2H" value="massive">
            </fieldset>
            <h4 data-i18n="h-otherweaponssubsection">Other</h4>
            <fieldset class="repeating_otherweapons">
                <select name="attr_otherweapontype" class="choice">
                    <option data-i18n="o-w-bow" value="bow">bow</option>
                    <option data-i18n="o-w-crossbow" value="crossbow">crossbow</option>
                    <option data-i18n="o-w-daggers" value="daggers">daggers</option>
                    <option data-i18n="o-w-shield" value="shield">shield</option>
                    <option data-i18n="o-w-paint" data-i18n-vars="*|3" value="runepaint">rune paint{{0}} ({{1}} doses)</option>
                </select>
            </fieldset>
            <h4 data-i18n="h-armorsubsection">Armor</h4>
            <fieldset class="repeating_armor">
                <select name="attr_armor" class="choice">
                    <option data-i18n="o-a-paddedjack" value="paddedjack">padded jack</option>
                    <option data-i18n="o-a-cuirass" value="cuirass">cuirass and hauberk</option>
                    <option data-i18n="o-a-upgrade" value="plateupgrade">upgrade to plate armor</option>
                </select>
            </fieldset>
        </div>
        <div class="subsection">
            <h3 data-i18n="h-kitsection">Kit</h3>
            <span data-i18n="t-kit-default">standard kit:</span>
            <div class="flex-row">
                <span data-i18n="l-kit-bag">bag</span>
                <div>
                    <input class="kit-group-counts" type="number" value="1" name="attr_bag" max="2" min="0"/><br>
                </div>
            </div>
            <div class="flex-row">
                <span data-i18n="l-kit-flintnsteal">flint &amp; steal</span>
                <div>
                    <input class="kit-group-counts" type="number" value="1" name="attr_flintnsteal" max="2" min="0"/><br>
                </div>
            </div>
            <div class="flex-row">
                <span data-i18n="l-kit-knife">knife</span>
                <div>
                    <input class="kit-group-counts" type="number" value="1" name="attr_knife" max="2" min="0"/><br>
                </div>
            </div>
            <div class="flex-row">
                <span data-i18n="l-kit-torches">torches (3)</span>
                <div>
                    <input class="kit-group-counts" type="number" value="1" name="attr_torches" max="2" min="0"/><br>
                </div>
            </div>
            <span data-i18n="t-kit-choice">additional kit:</span>
            <fieldset class="repeating_kit">
            <div class="flex-row">
                <select name="attr_kit" class="choice">
                    <option data-i18n="o-kit-bandages" value="bandages">bandages</option>
                    <option data-i18n="o-kit-bells" data-i18n-vars="10" value="bells">bells ({{0}})</option>
                    <option data-i18n="o-kit-booze" value="booze">booze</option>
                    <option data-i18n="o-kit-candles" data-i18n-vars="10" value="candles">candles ({{0}})</option>
                    <option data-i18n="o-kit-chalk" value="chalk">chalk</option>
                    <option data-i18n="o-kit-chain" data-i18n-vars="5&nbsp;m" value="chain">chain ({{0}})</option>
                    <option data-i18n="o-kit-crowbar" value="crowbar">crowbar</option>
                    <option data-i18n="o-kit-vials" data-i18n-vars="3" value="empty vials">empty vials ({{0}})</option>
                    <option data-i18n="o-kit-magnets" value="magnets">few strong magnets</option>
                    <option data-i18n="o-kit-oil" data-i18n-vars="3" value="oil">flask of oil ({{0}})</option>
                    <option data-i18n="o-kit-food" data-i18n-vars="3&nbsp;" value="food">food ({{0}}days)</option>
                    <option data-i18n="o-kit-grapnel" value="grapnel">grapnel</option>
                    <option data-i18n="o-kit-climb" value="climb">hammer&amp;spikes</option>
                    <option data-i18n="o-kit-write" value="write">ink&amp;paper</option>
                    <option data-i18n="o-kit-filings" value="filings">iron filings (pouch)</option>
                    <option data-i18n="o-kit-lantern" value="lantern">lantern&amp;oil</option>
                    <option data-i18n="o-kit-lockpicks" value="lockpicks">lockpicks</option>
                    <option data-i18n="o-kit-marbles" value="marbles">marbles (pouch)</option>
                    <option data-i18n="o-kit-mirror" value="mirror">mirror</option>
                    <option data-i18n="o-kit-rope" data-i18n-vars="10&nbsp;m" value="rope">rope ({{0}})</option>
                    <option data-i18n="o-kit-runepaint" data-i18n-vars="*|1" value="runepaint">rune paint{{0}} ({{1}}dose)</option>
                    <option data-i18n="o-kit-runebook" data-i18n-vars="1&nbsp;" value="runebook">runebook ({{0}}rune)</option>
                    <option data-i18n="o-kit-dice" value="dice">set of dice</option>
                    <option data-i18n="o-kit-string" data-i18n-vars="20&nbsp;m" value="string">string ({{0}})</option>
                    <option data-i18n="o-kit-water" value="waterskin">waterskin</option>
                    <option data-i18n="o-kit-whistle" value="whistle">whistle</option>
                </select>
                <div>
                    <input type="number" name="attr_kit_count" value="1" max="2" min="0">
                </div>
            </div>
            </fieldset>
            <span data-i18n="t-kit-custom">other:</span>
            <fieldset class="repeating_otherkit">
                <div class="flex-row">
                    <div>
                        <input type="text" name="attr_other_kit" value="" data-i18n-placeholder="iph-newkit" placeholder="new kit name">
                    </div>
                    <div>
                        <input type="number" name="attr_other_kit_count" value="1" max="2" min="0">
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="personal section-right">
        <div>
            <h3 data-i18n="h-complicationsection">Complications</h3>
            <span data-i18n="t-defaultcomplication">typical complications</span>
            <fieldset class="repeating_complications">
                <div class="flex-row">
                    <select name="attr_complication" class="choice">
                        <option value="arm" data-i18n="o-comp-arm">arm or hand trauma</option>
                        <option value="leg" data-i18n="o-comp-leg">leg or foot trauma</option>
                        <option value="head" data-i18n="o-comp-head">head wourd</option>
                        <option value="torso" data-i18n="o-comp-torso">torso wound</option>
                        <option value="fatique" data-i18n="o-comp-fatique">combat fatique</option>
                        <option value="delusion" data-i18n="o-comp-delusion">delusion</option>
                        <option value="hallucination" data-i18n="o-comp-hallucination">hallucination</option>
                        <option value="paranoia" data-i18n="o-comp-paranoia">paranoia</option>
                        <option value="phobia" data-i18n="o-copm-phobia">phobia</option>
                    </select>
                    <div>
                        <span data-i18n="t-complicationlevel">points:</span>
                        <input type="number" name="attr_complicationlevel" value="1" min=1 max=3>
                    </div>
                </div>
            </fieldset>
            <span data-i18n="t-customcomplication">other:</span>
            <fieldset class="repeating_othercomplications">
                <div class="flex-row">
                    <input type="text" name="attr_complication" value="" data-i18n-placeholder="iph-complication" placeholder="new physical/mental trauma">
                    <div>
                        <span data-i18n="t-complicationlevel">points:</span>
                        <input type="number" name="attr_complicationlevel" value="1" min=1 max=3>
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="subsection-right">
            <div>
                <h3 data-i18n="h-selfimagesection">Self-Image</h3>
                <fieldset class="repeating_selfimage">
                    <input type="text" name="attr_selfimage" value="" data-i18n-placeholder="iph-selfimage" placeholder="examples: brave, charming, fair, fun, generous, hard, merciful, smart, strong">
                </fieldset>
            </div>
            <div>
                <h3 data-i18n="h-habitssection">Habits</h3>
                <fieldset class="repeating_habits">
                    <input type="text" name="attr_habits" value="" data-i18n-placeholder="iph-habits" placeholder="cowardice, drinking, gambling, honesty, paranoia, placation, pyromania, selfishness, sex, stubborness, suspicion, talking, violence">
                </fieldset>
            </div>
            <div>
                <h3 data-i18n="h-historysection">History</h3>
                <span data-i18n="t-defaulthist">typical occupations:</span>
                <fieldset class="repeating_history">
                    <select name="attr_history" class="choice">
                        <option value="artisan" data-i18n="o-hist-artisan">artisan</option>
                        <option value="caregiver" data-i18n="o-hist-caregiver">caregiver</option>
                        <option value="courir" data-i18n="o-hist-courir">courir</option>
                        <option value="entertainer" data-i18n="o-hist-entertainer">entertainer</option>
                        <option value="farmer" data-i18n="o-hist-farmer">farmer</option>
                        <option value="medicker" data-i18n="o-hist-medicker">medicker</option>
                        <option value="miner" data-i18n="o-hist-miner">miner</option>
                        <option value="painter" data-i18n="o-hist-painter" data-i18n-vars="*">painter{{0}}</option>
                        <option value="scion" data-i18n="o-hist-scion">scion</option>
                        <option value="scribe" data-i18n="o-hist-scribe">scribe</option>
                        <option value="servant"data-i18n="o-hist-servant">servant</option>
                        <option value="smith" data-i18n="o-hist-smith">smith</option>
                        <option value="thief" data-i18n="o-hist-thief">thief</option>
                        <option value="vagabound" data-i18n="o-hist-vagabound">vagabound</option>
                    </select>
                </fieldset>
                <span data-i18n="t-customhist">other:</span>
                <fieldset class="repeating_otherhist">
                    <input type="text" name="attr_other_hist" value="" data-i18n-placeholder="iph-otherhist" placeholder="other occupation">
                </fieldset>
                <span data-i18n="t-defaultupwell">why go upwell:</span>
                <fieldset class="repeating_reasons">
                    <select name="attr_reasons" class="choice">
                        <option value="family" data-i18n="o-reasons-family">a disaproving family</option>
                        <option value="partner" data-i18n="o-reasons-partner">a dying partner</option>
                        <option value="home" data-i18n="o-reasons-home">an empty home</option>
                        <option value="business" data-i18n="o-reasons-business">a failing business</option>
                        <option value="youth" data-i18n="o-reasons-youth">a troubled youth</option>
                        <option value="rival" data-i18n="o-reasons-rival">a vicious rival</option>
                        <option value="boredom" data-i18n="o-reasons-boredom">boredom</option>
                        <option value="dreams" data-i18n="o-reasons-dreams">disturbing dreams</option>
                    </select>
                </fieldset>
                <span data-i18n="t-customreason">other:</span>
                <fieldset class="repeating_otherreason">
                    <input type="text" name="attr_other_reason" value="" data-i18n-placeholder="iph-otherreason" placeholder="other reasons">
                </fieldset>
            </div>
        </div>
        <div class="subsection-right">
            <div>
                <h3 data-i18n="h-reputation-section">Reputation</h3>
                <fieldset class="repeating_reputation">
                    <input type="text" name="attr_reputation" value="" data-i18n-placeholder="iph-reputation" placeholder="fairnes, lying, seduction etc">
                </fieldset>
            </div>
            <div>
                <h3 data-i18n="h-contactssection">Contacts</h3>
                <span data-i18n="t-defaultcontacts">typical contacts:</span>
                <fieldset class="repeating_contacts">
                    <div class="flex-row">
                        <div>
                            <select name="attr_contacts" class="choice">
                                <option value="artisans" data-i18n="o-contacts-artisans">Artisan's Guild</option>
                                <option value="holydescent" data-i18n="o-contacts-holydescent">Church of the Holy descent</option>
                                <option value="criminals" data-i18n="o-contacts-criminals">Criminals</option>
                                <option value="wellguard" data-i18n="o-contacts-wellguard">Wellguard</option>
                                <option value="elders" data-i18n="o-contacts-elders">Elder Council</option>
                                <option value="farmers" data-i18n="o-contacts-farmers">Farmer's Guild</option>
                                <option value="gravediggers"data-i18n="o-contacts-gravediggers">Gravediggers</option>
                                <option value="indigent" data-i18n="o-contacts-indigent">The Indigent</option>
                                <option value="miners" data-i18n="o-contacts-miners">Miner's Guild</option>
                                <option value="painters" data-i18n="o-contacts-painters">Painter's Guild</option>
                                <option value="elite" data-i18n="o-contacts-elite">Social Elite</option>
                                <option value="unbrokenchains" data-i18n="o-contacts-unbrokenchains">Unbroken Chains Temple</option>
                            </select>
                        </div>
                        <div>
                            <input type="checkbox" name="attr_contact" value="contact">
                            <span data-i18n="l-contact">contact</span>
                            <input type="checkbox" name="attr_owsfavor" value="liability">
                            <span data-i18n="l-obligee">obligee</span>
                        </div>
                    </div>
                </fieldset>
                <span data-i18n="t-kit-custom">other:</span>
                <fieldset class="repeating_othercontacts">
                    <div class="flex-row">
                        <input type="text" name="attr_other_contacts" value="">
                        <div>
                            <input type="checkbox" name="attr_contact" value="contact">
                            <span data-i18n="l-contact">contact</span>
                            <input type="checkbox" name="attr_owsfavor" value="liability">
                            <span data-i18n="l-obligee">obligee</span>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <div class="notes section flex-row-stretch">
        <h3 data-i18n=h-notes>Notes</h3>
        <textarea name="attr_notes"></textarea>
    </div>
    <div class="footer">
        <span data-i18n="t-footer-copyright">The Well game by Shoeless Pete Games, images used by permission. See https://www.shoelesspetegames.com/the-well to buy the game.</span>
    </div>
</div>

<!-- currently deactivated -->
<input type="hidden" class="hideifzero" name="attr_firsttime" value="0">
<div>
    <div class="popup-bg">
    </div>
    <div class="popup">
        <div class="popup-header" data-i18n="ph-newchar">
            <span data-i18n="p-h-new-char">New Character</span>
        </div>
        <div class="popup-content" data-i18n="pc-newchar">
            <span data-i18n="p-t-new-char">You seem to have a new character, would you like to start character generation?</span>
        </div>
        <div class="popup-content clearfix">
            <button class="btn" type="action" name="act_close" data-i18n="pb-no">No</button>
            <button class="btn" type="action" name="act_startcharmancer" data-i18n="pb-yes">Yes</button>
        </div>
    </div>
</div>

<input type="hidden" class="hideifzero" name="attr_showdialog" value="0">
<div>
    <div class="popup-bg">
    </div>
    <div class="popup">
        <div class="popup-header" data-i18n="ph-oldchar">
            <span data-i18n="p-h-change-char">Change Character</span>
        </div>
        <div class="popup-content" data-i18n="pc-oldchar">
            <span data-i18n="p-t-change-char">Are you sure you want to re-start character generation?</span>
        </div>
        <div class="popup-content clearfix">
            <button class="btn" type="action" name="act_close" data-i18n="pb-no">No</button>
            <button class="btn" type="action" name="act_startcharmancer" data-i18n="pb-yes">Yes</button>
        </div>
    </div>
</div>
<!--
    ROLLTEMPLATES
-->
<!--
    SheetWorker
-->
<script type="text/worker">

    on('clicked:close', function() {
    log("do not start character mancer");
    setAttrs({
        firsttime: 0,
        showdialog: 0,
    });
});

on('clicked:startcharmancer', function() {
    log("would start character mancer");
    setAttrs({
        firsttime: 0,
        showdialog: 0,
    });
});

on('clicked:askgeneration', function() {
    log("ask if generation should happen");
    setAttrs({
        showdialog: 1,
    });
});

</script>

<!-- vim: sw=4 ft=html.js
-->
